!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{e(t.jQuery),t.jquerySlidePanelEs={}}}(this,function(t){"use strict";var e,u=(e=t)&&e.__esModule?e:{default:e};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(){return void 0!==window.performance&&window.performance.now?window.performance.now():Date.now()}var s={skin:null,classes:{base:"slidePanel",show:"slidePanel-show",loading:"slidePanel-loading",content:"slidePanel-content",dragging:"slidePanel-dragging",willClose:"slidePanel-will-close"},closeSelector:null,template:function(t){return'<div class="'+t.classes.base+" "+t.classes.base+"-"+t.direction+'"><div class="'+t.classes.content+'"></div></div>'},loading:{appendTo:"panel",template:function(t){return'<div class="'+t.classes.loading+'"></div>'},showCallback:function(t){this.$el.addClass(t.classes.loading+"-show")},hideCallback:function(t){this.$el.removeClass(t.classes.loading+"-show")}},contentFilter:function(t,e){return t},useCssTransforms3d:!0,useCssTransforms:!0,useCssTransitions:!0,dragTolerance:150,mouseDragHandler:null,mouseDrag:!0,touchDrag:!0,pointerDrag:!0,direction:"right",duration:"500",easing:"ease",beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,onChange:$.noop,beforeHide:$.noop,afterHide:$.noop,beforeDrag:$.noop,afterDrag:$.noop},r=(n(a,[{key:"initialize",value:function(t,e){var n=(arguments.length<=1?void 0:e)||{};if("string"==typeof t)t={url:t};else if(t&&1===t.nodeType){var i=(0,u.default)(t);t={url:i.attr("href"),settings:i.data("settings")||{},options:i.data()||{}}}return t&&t.options?t.options=u.default.extend(!0,n,t.options):t.options=n,t.options=u.default.extend(!0,{},s,t.options),u.default.extend(this,t),this}}]),a);function a(t){o(this,a);for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.initialize.apply(this,[t].concat(n))}var l,c,h,p,f,g,m,v,y,b={};function w(t){return y(t,!0)}function _(a,e,l,n){function c(t,e){return 1-3*e+3*t}function h(t,e){return 3*e-6*t}function u(t){return 3*t}function d(t,e,n){return((c(e,n)*t+h(e,n))*t+u(e))*t}return a===e&&l===n?{css:"linear",fn:function(t){return t}}:{css:"cubic-bezier("+a+","+e+","+l+","+n+")",fn:function(t){return d(function(t){for(var e,n,i,o=t,s=0;s<4;++s){var r=(e=o,3*c(n=a,i=l)*e*e+2*h(n,i)*e+u(n));if(0===r)return o;o-=(d(o,a,l)-t)/r}return o}(t),e,n)}}}l=b,c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},h=["webkit","Moz","O","ms"],p=(0,u.default)("<support>").get(0).style,f=function(){return Boolean(y("transform"))},g=function(){return Boolean(y("perspective"))},m=function(){return Boolean(y("transition"))},v=function(){return Boolean(y("animation"))},y=function(t,e){var n=!1,i=t.charAt(0).toUpperCase()+t.slice(1);return void 0!==p[t]&&(n=t),n||u.default.each(h,function(t,e){return void 0===p[e+i]||(n="-"+e.toLowerCase()+"-"+i,!1)}),e?n:!!n},m()&&(l.transition=new String(w("transition")),l.transition.end=c.transition.end[l.transition]),v()&&(l.animation=new String(w("animation")),l.animation.end=c.animation.end[l.animation]),f()&&(l.transform=new String(w("transform")),l.transform3d=g()),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?l.touch=!0:l.touch=!1,window.PointerEvent||window.MSPointerEvent?l.pointer=!0:l.pointer=!1,l.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t};var x={ease:_(.25,.1,.25,1),linear:_(0,0,1,1),"ease-in":_(.42,0,1,1),"ease-out":_(0,0,.58,1),"ease-in-out":_(.42,0,.58,1)},k={prepareTransition:function(t,e,n,i,o){var s=[];e&&s.push(e),n&&(u.default.isNumeric(n)&&(n+="ms"),s.push(n)),i?s.push(i):s.push(this.easing.css),o&&s.push(o),t.css(b.transition,s.join(" "))},do:function(o,t,s){N.enter("animating");var e=o.options.duration,r=o.options.easing||"ease",a=this,n=o.makePositionStyle(t),i=null;for(i in n)if({}.hasOwnProperty.call(n,i))break;if(o.options.useCssTransitions&&b.transition)setTimeout(function(){a.prepareTransition(o.$panel,i,e,r)},20),o.$panel.one(b.transition.end,function(){u.default.isFunction(s)&&s(),o.$panel.css(b.transition,""),N.leave("animating")}),setTimeout(function(){o.setPosition(t)},20);else{var l=d(),c=o.getPosition(),h=t;a._frameId=window.requestAnimationFrame(function t(e){var n=(e-l)/o.options.duration;1<n&&(n=1),n=x[r].fn(n);var i=parseFloat(c+n*(h-c),10);o.setPosition(i),1===n?(window.cancelAnimationFrame(a._frameId),a._frameId=null,u.default.isFunction(s)&&s(),N.leave("animating")):a._frameId=window.requestAnimationFrame(t)})}}},C=(n(E,[{key:"initialize",value:function(t){this._view=t,this.build()}},{key:"build",value:function(){if(!this._builded){var t=this._view.options,e=t.loading.template.call(this,t);switch(this.$el=(0,u.default)(e),t.loading.appendTo){case"panel":this.$el.appendTo(this._view.$panel);break;case"body":this.$el.appendTo("body");break;default:this.$el.appendTo(t.loading.appendTo)}this._builded=!0}}},{key:"show",value:function(t){this.build();var e=this._view.options;e.loading.showCallback.call(this,e),u.default.isFunction(t)&&t.call(this)}},{key:"hide",value:function(t){var e=this._view.options;e.loading.hideCallback.call(this,e),u.default.isFunction(t)&&t.call(this)}}]),E);function E(t){o(this,E),this.initialize(t)}var S=(n(A,[{key:"initialize",value:function(t){this._view=t,this.options=t.options,this._drag={time:null,pointer:null},this.bindEvents()}},{key:"bindEvents",value:function(){var t=this._view.$panel,e=this.options;e.mouseDrag&&(t.on(N.eventName("mousedown"),u.default.proxy(this.onDragStart,this)),t.on(N.eventName("dragstart selectstart"),function(t){if(!e.mouseDragHandler||(0,u.default)(t.target).is(e.mouseDragHandler)||0<(0,u.default)(t.target).parents(e.mouseDragHandler).length)return!1})),e.touchDrag&&b.touch&&(t.on(N.eventName("touchstart"),u.default.proxy(this.onDragStart,this)),t.on(N.eventName("touchcancel"),u.default.proxy(this.onDragEnd,this))),e.pointerDrag&&b.pointer&&(t.on(N.eventName(b.prefixPointerEvent("pointerdown")),u.default.proxy(this.onDragStart,this)),t.on(N.eventName(b.prefixPointerEvent("pointercancel")),u.default.proxy(this.onDragEnd,this)))}},{key:"onDragStart",value:function(t){var e=this;if(3!==t.which){var n=this.options;this._view.$panel.addClass(this.options.classes.dragging),this._position=this._view.getPosition(!0),this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(t);var i=function(){N.enter("dragging"),N.trigger(e._view,"beforeDrag")};if(n.mouseDrag){if(n.mouseDragHandler&&!((0,u.default)(t.target).is(n.mouseDragHandler)||0<(0,u.default)(t.target).parents(n.mouseDragHandler).length))return;(0,u.default)(document).on(N.eventName("mouseup"),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName("mousemove"),u.default.proxy(function(){(0,u.default)(document).on(N.eventName("mousemove"),u.default.proxy(this.onDragMove,this)),i()},this))}n.touchDrag&&b.touch&&((0,u.default)(document).on(N.eventName("touchend"),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName("touchmove"),u.default.proxy(function(){(0,u.default)(document).on(N.eventName("touchmove"),u.default.proxy(this.onDragMove,this)),i()},this))),n.pointerDrag&&b.pointer&&((0,u.default)(document).on(N.eventName(b.prefixPointerEvent("pointerup")),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName(b.prefixPointerEvent("pointermove")),u.default.proxy(function(){(0,u.default)(document).on(N.eventName(b.prefixPointerEvent("pointermove")),u.default.proxy(this.onDragMove,this)),i()},this))),(0,u.default)(document).on(N.eventName("blur"),u.default.proxy(this.onDragEnd,this)),t.preventDefault()}}},{key:"onDragMove",value:function(t){var e=this.distance(this._drag.pointer,this.pointer(t));N.is("dragging")&&(Math.abs(e)>this.options.dragTolerance?!0!==this._willClose&&(this._willClose=!0,this._view.$panel.addClass(this.options.classes.willClose)):!1!==this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),N.is("dragging")&&(t.preventDefault(),this.move(e)))}},{key:"onDragEnd",value:function(t){var e=this.distance(this._drag.pointer,this.pointer(t));(0,u.default)(document).off(N.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")),this._view.$panel.removeClass(this.options.classes.dragging),!0===this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),N.is("dragging")&&(N.leave("dragging"),N.trigger(this._view,"afterDrag"),Math.abs(e)<this.options.dragTolerance?this._view.revert():this._view.hide())}},{key:"pointer",value:function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e}},{key:"distance",value:function(t,e){var n=this.options.direction;return"left"===n||"right"===n?e.x-t.x:e.y-t.y}},{key:"move",value:function(t){var e=this._position+t;if("right"===this.options.direction||"bottom"===this.options.direction){if(e<0)return}else if(0<e)return;this.options.useCssTransforms||this.options.useCssTransforms3d||"right"!==this.options.direction&&"bottom"!==this.options.direction||(e=-e),this._view.setPosition(e+"px")}}]),A);function A(){o(this,A),this.initialize.apply(this,arguments)}var T=(n(O,[{key:"initialize",value:function(t){this.options=t,this._instance=null,this._showed=!1,this._isLoading=!1,this.build()}},{key:"setLength",value:function(){switch(this.options.direction){case"top":case"bottom":this._length=this.$panel.outerHeight();break;case"left":case"right":this._length=this.$panel.outerWidth()}}},{key:"build",value:function(){if(!this._builded){var t=this.options,e=t.template.call(this,t),n=this;this.$panel=(0,u.default)(e).appendTo("body"),t.skin&&this.$panel.addClass(t.skin),this.$content=this.$panel.find("."+this.options.classes.content),t.closeSelector&&this.$panel.on("click touchstart",t.closeSelector,function(){return n.hide(),!1}),this.loading=new C(this),this.setLength(),this.setPosition(this.getHidePosition()),(t.mouseDrag||t.touchDrag||t.pointerDrag)&&(this.drag=new S(this)),this._builded=!0}}},{key:"getHidePosition",value:function(){var t=this.options;if(t.useCssTransforms||t.useCssTransforms3d)switch(t.direction){case"top":case"left":return"-100";case"bottom":case"right":return"100"}switch(t.direction){case"top":case"bottom":return parseFloat(-this._length/(0,u.default)(window).height()*100,10);case"left":case"right":return parseFloat(-this._length/(0,u.default)(window).width()*100,10)}}},{key:"empty",value:function(){this._instance=null,this.$content.empty()}},{key:"load",value:function(e){var n=this,i=e.options;function o(t){t=i.contentFilter.call(this,t,e),n.$content.html(t),n.hideLoading(),n._instance=e,N.trigger(n,"afterLoad",e)}N.trigger(this,"beforeLoad",e),this.empty(),e.content?o(e.content):e.url?(this.showLoading(),u.default.ajax(e.url,e.settings||{}).done(function(t){o(t)})):o("")}},{key:"showLoading",value:function(){var t=this;this.loading.show(function(){t._isLoading=!0})}},{key:"hideLoading",value:function(){var t=this;this.loading.hide(function(){t._isLoading=!1})}},{key:"show",value:function(t){this.build(),N.enter("show"),N.trigger(this,"beforeShow"),(0,u.default)("html").addClass(this.options.classes.base+"-html"),this.$panel.addClass(this.options.classes.show);var e=this;k.do(this,0,function(){e._showed=!0,N.trigger(e,"afterShow"),u.default.isFunction(t)&&t.call(e)})}},{key:"change",value:function(t){N.trigger(this,"beforeShow"),N.trigger(this,"onChange",t,this._instance),this.load(t),N.trigger(this,"afterShow")}},{key:"revert",value:function(t){var e=this;k.do(this,0,function(){u.default.isFunction(t)&&t.call(e)})}},{key:"hide",value:function(t){N.leave("show"),N.trigger(this,"beforeHide");var e=this;k.do(this,this.getHidePosition(),function(){e.$panel.removeClass(e.options.classes.show),e._showed=!1,e._instance=null,N._current===e&&(N._current=null),N.is("show")||(0,u.default)("html").removeClass(e.options.classes.base+"-html"),u.default.isFunction(t)&&t.call(e),N.trigger(e,"afterHide")})}},{key:"makePositionStyle",value:function(t){var e=void 0,n="0",i="0";(function(t){return"string"==typeof t&&-1!==t.indexOf("%")})(t)||function(t){return"string"==typeof t&&-1!==t.indexOf("px")}(t)||(t+="%"),this.options.useCssTransforms&&b.transform?("left"===this.options.direction||"right"===this.options.direction?n=t:i=t,e=b.transform.toString(),t=this.options.useCssTransforms3d&&b.transform3d?"translate3d("+n+","+i+",0)":"translate("+n+","+i+")"):e=this.options.direction;var o={};return o[e]=t,o}},{key:"getPosition",value:function(t){var e=void 0;if(this.options.useCssTransforms&&b.transform){if(!(e=function(t){return!(!t||"matrix"!==t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}(this.$panel.css(b.transform))))return 0;e="left"===this.options.direction||"right"===this.options.direction?e[12]||e[4]:e[13]||e[5]}else e=this.$panel.css(this.options.direction),e=parseFloat(e.replace("px",""));return!0!==t&&(e=e/this._length*100),parseFloat(e,10)}},{key:"setPosition",value:function(t){var e=this.makePositionStyle(t);this.$panel.css(e)}}]),O);function O(t){o(this,O),this.initialize(t)}var N={_states:{},_views:{},_current:null,is:function(t){return this._states[t]&&0<this._states[t]},enter:function(t){void 0===this._states[t]&&(this._states[t]=0),this._states[t]++},leave:function(t){this._states[t]--},trigger:function(t,e){for(var n=arguments.length,i=Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=[t].concat(i);(0,u.default)(document).trigger("slidePanel::"+e,s),u.default.isFunction(t.options[e])&&t.options[e].apply(t,i)},eventName:function(t){if("string"!=typeof t||""===t)return".slidepanel";for(var e=(t=t.split(" ")).length,n=0;n<e;n++)t[n]=t[n]+".slidepanel";return t.join(" ")},show:function(t,e){var n=this;if(!(t instanceof r))switch(arguments.length){case 0:t=new r;break;case 1:t=new r(t);break;case 2:t=new r(t,e)}function i(){o.show(),o.load(t),n._current=o}var o=this.getView(t.options);null!==this._current?o===this._current?this._current.change(t):this._current.hide(i):i()},getView:function(t){var e=function(t){"string"!=typeof t&&(t=JSON.stringify(t));var e,n=0,i=void 0;if(0===t.length)return n;for(i=0,e=t.length;i<e;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return n}(t);return this._views.hasOwnProperty(e)?this._views[e]:this._views[e]=new T(t)},hide:function(t){void 0!==t&&void 0!==t.options?this.getView(t.options).hide():null!==this._current&&this._current.hide()}},F={is:function(t){return N.is(t)},show:function(t,e){return N.show(t,e),this},hide:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.hide(e),this}};Date.now||(Date.now=function(){return(new Date).getTime()});for(var D=["webkit","moz"],j=0;j<D.length&&!window.requestAnimationFrame;++j){var L=D[j];window.requestAnimationFrame=window[L+"RequestAnimationFrame"],window.cancelAnimationFrame=window[L+"CancelAnimationFrame"]||window[L+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS (6|7|8)/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var P=0;window.requestAnimationFrame=function(t){var e=d(),n=Math.max(P+16,e);return setTimeout(function(){t(P=n)},n-e)},window.cancelAnimationFrame=clearTimeout}function I(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=t;return"string"==typeof t?this.each(function(){var t=u.default.data(this,"slidePanel");switch(t instanceof r||(t=new r(this,n),u.default.data(this,"slidePanel",t)),o){case"hide":N.hide(t);break;case"show":N.show(t)}}):this.each(function(){u.default.data(this,"slidePanel")||(u.default.data(this,"slidePanel",new r(this,t)),(0,u.default)(this).on("click",function(t){var e=u.default.data(this,"slidePanel");N.show(e),t.preventDefault(),t.stopPropagation()}))})}var q=u.default.fn.slidePanel;u.default.fn.slidePanel=I,u.default.slidePanel=function(){N.show.apply(N,arguments)},u.default.extend(u.default.slidePanel,{setDefaults:function(t){u.default.extend(!0,s,u.default.isPlainObject(t)&&t)},noConflict:function(){return u.default.fn.slidePanel=q,I}},{version:"0.3.5"},F)}),function(){function u(t){var e=u.modules[t];if(!e)throw new Error('failed to req "'+t+'"');return"exports"in e||"function"!=typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition),e.exports}u.loader="component",(u.helper={}).semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),o=0;o<n.length;++o){var s=parseInt(n[o],10),r=parseInt(i[o],10);if(s!==r)return r<s?1:-1;var a=n[o].substr((""+s).length),l=i[o].substr((""+r).length);if(""===a&&""!==l)return 1;if(""!==a&&""===l)return-1;if(""!==a&&""!==l)return l<a?1:-1}return 0},u.latest=function(t,e){function n(t){throw new Error('failed to find latest module of "'+t+'"')}var i=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(t)||n(t);for(var o=Object.keys(u.modules),s=[],r=[],a=0;a<o.length;a++){var l=o[a];if(new RegExp(t+"@").test(l)){var c=l.substr(t.length+1);null!=i.exec(l)?s.push({version:c,name:l}):r.push({version:c,name:l})}}if(0===s.concat(r).length&&n(t),0<s.length){var h=s.sort(u.helper.semVerSort).pop().name;return!0===e?h:u(h)}h=r.sort(function(t,e){return t.name>e.name})[0].name;return!0===e?h:u(h)},u.modules={},u.register=function(t,e){u.modules[t]={definition:e}},u.define=function(t,e){u.modules[t]={exports:e}},u.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.props=e||{},this.init()}(e.exports=n).prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),u.register("ftlabs~fastclick@v0.6.11",function(t,e){function i(o){"use strict";var e,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,!(this.layer=o)||!o.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return i.prototype.onClick.apply(t,arguments)},this.onMouse=function(){return i.prototype.onMouse.apply(t,arguments)},this.onTouchStart=function(){return i.prototype.onTouchStart.apply(t,arguments)},this.onTouchMove=function(){return i.prototype.onTouchMove.apply(t,arguments)},this.onTouchEnd=function(){return i.prototype.onTouchEnd.apply(t,arguments)},this.onTouchCancel=function(){return i.prototype.onTouchCancel.apply(t,arguments)},i.notNeeded(o)||(this.deviceIsAndroid&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(t,e,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(o,t,e.hijacked||e,n):i.call(o,t,e,n)},o.addEventListener=function(t,e,n){var i=Node.prototype.addEventListener;"click"===t?i.call(o,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),n):i.call(o,t,e,n)}),"function"==typeof o.onclick&&(e=o.onclick,o.addEventListener("click",function(t){e(t)},!1),o.onclick=null))}i.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),i.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),i.prototype.deviceIsIOS4=i.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i.prototype.deviceIsIOSWithBadTarget=i.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),i.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){"use strict";var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},i.prototype.onTouchMove=function(t){"use strict";return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(t.target)&&!this.touchHasMoved(t)||(this.trackingClick=!1,this.targetElement=null)),!0},i.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){"use strict";var e,n,i,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],(r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=r.tagName.toLowerCase())){if(e=this.findControl(r)){if(this.focus(r),this.deviceIsAndroid)return!1;r=e}}else if(this.needsFocus(r))return 100<t.timeStamp-n||this.deviceIsIOS&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(r),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault())),!1;return!(!this.deviceIsIOS||this.deviceIsIOS4||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},i.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},i.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){"use strict";var e,n;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<n&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},i.attach=function(t){"use strict";return new i(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return i}):void 0!==e&&e.exports?(e.exports=i.attach,e.exports.FastClick=i):window.FastClick=i}),u.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),u.register("component~classes@1.2.1",function(t,e){var i=u("component~indexof@0.0.3"),n=/\s+/,o=Object.prototype.toString;function s(t){if(!t)throw new Error("A DOM element reference is reqd");this.el=t,this.list=t.classList}e.exports=function(t){return new s(t)},s.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~i(e,t)||e.push(t),this.el.className=e.join(" "),this},s.prototype.remove=function(t){if("[object RegExp]"==o.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=i(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},s.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},s.prototype.toggle=function(t,e){return this.list?void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t):void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this},s.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,"").split(n);return""===t[0]&&t.shift(),t},s.prototype.has=s.prototype.contains=function(t){return this.list?this.list.contains(t):!!~i(this.array(),t)}}),u.register("component~event@0.1.4",function(t,e){var o=window.addEventListener?"addEventListener":"attachEvent",s=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!=o?"on":"";t.bind=function(t,e,n,i){return t[o](r+e,n,i||!1),n},t.unbind=function(t,e,n,i){return t[s](r+e,n,i||!1),n}}),u.register("component~query@0.0.3",function(e,t){function n(t,e){return e.querySelector(t)}(e=t.exports=function(t,e){return n(t,e=e||document)}).all=function(t,e){return(e=e||document).querySelectorAll(t)},e.engine=function(t){if(!t.one)throw new Error(".one callback reqd");if(!t.all)throw new Error(".all callback reqd");return n=t.one,e.all=t.all,e}}),u.register("component~matches-selector@0.1.5",function(t,e){var o=u("component~query@0.0.3"),n=Element.prototype,s=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=function(t,e){if(!t||1!==t.nodeType)return!1;if(s)return s.call(t,e);for(var n=o.all(e,t.parentNode),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}}),u.register("component~closest@0.1.4",function(t,e){var o=u("component~matches-selector@0.1.5");e.exports=function(t,e,n,i){for(t=n?{parentNode:t}:t,i=i||document;(t=t.parentNode)&&t!==document;){if(o(t,e))return t;if(t===i)return}}}),u.register("component~delegate@0.2.3",function(t,e){var s=u("component~closest@0.1.4"),r=u("component~event@0.1.4");t.bind=function(n,i,t,o,e){return r.bind(n,t,function(t){var e=t.target||t.srcElement;t.delegateTarget=s(e,i,!0,n),t.delegateTarget&&o.call(n,t)},e)},t.unbind=function(t,e,n,i){r.unbind(t,e,n,i)}}),u.register("component~events@1.0.9",function(t,e){var l=u("component~event@0.1.4"),c=u("component~delegate@0.2.3");function n(t,e){if(!(this instanceof n))return new n(t,e);if(!t)throw new Error("element reqd");if(!e)throw new Error("object reqd");this.el=t,this.obj=e,this._events={}}(e.exports=n).prototype.sub=function(t,e,n){this._events[t]=this._events[t]||{},this._events[t][e]=n},n.prototype.bind=function(t,e){var n=function(t){var e=t.split(/ +/);return{name:e.shift(),selector:e.join(" ")}}(t),i=this.el,o=this.obj,s=n.name,r=(e=e||"on"+s,[].slice.call(arguments,2));function a(){var t=[].slice.call(arguments).concat(r);o[e].apply(o,t)}return n.selector?a=c.bind(i,n.selector,s,a):l.bind(i,s,a),this.sub(s,e,a),a},n.prototype.unbind=function(t,e){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(t);var n=this._events[t];if(n){var i=n[e];i&&l.unbind(this.el,t,i)}},n.prototype.unbindAll=function(){for(var t in this._events)this.unbindAllOf(t)},n.prototype.unbindAllOf=function(t){var e=this._events[t];if(e)for(var n in e)this.unbind(t,n)}}),u.register("switchery",function(t,e){var n=u("abpetkov~transitionize@0.0.3"),i=u("ftlabs~fastclick@v0.6.11"),o=u("component~classes@1.2.1"),s=u("component~events@1.0.9");e.exports=a;var r={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};function a(t,e){if(!(this instanceof a))return new a(t,e);for(var n in this.element=t,this.options=e||{},r)null==this.options[n]&&(this.options[n]=r[n]);null!=this.element&&"checkbox"==this.element.type&&this.init(),!0===this.isDisabled()&&this.disable()}a.prototype.hide=function(){this.element.style.display="none"},a.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},a.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=s(this.switcher,this),this.switcher},a.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},a.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==r.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor),this.setSpeed()},a.prototype.setSpeed=function(){var t={},e={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},n(this.switcher,t),n(this.jack,e)},a.prototype.setSize=function(){switch(this.options.size){case"small":o(this.switcher).add("switchery-small");break;case"large":o(this.switcher).add("switchery-large");break;default:o(this.switcher).add("switchery-default")}},a.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},a.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},a.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},a.prototype.handleClick=function(){var t=this.switcher;i(t),this.events.bind("click","bindClick")},a.prototype.bindClick=function(){var t="label"!==this.element.parentNode.tagName.toLowerCase();this.setPosition(t),this.handleOnchange(this.element.checked)},a.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},a.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},a.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},a.prototype.isChecked=function(){return this.element.checked},a.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},a.prototype.destroy=function(){this.events.unbind()},a.prototype.enable=function(){this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick")},a.prototype.disable=function(){this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy()}}),"object"==typeof exports?module.exports=u("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return u("switchery")}):(this||window).Switchery=u("switchery")}()(function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t(),module.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),t().apply(this,arguments)};else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).introJs=t()}})(function(){function i(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button"}}function e(t,n){var e=t.querySelectorAll("*[data-intro]"),i=[];if(this._options.steps)L(this._options.steps,function(t){var e=h(t);if(e.step=i.length+1,"string"==typeof e.element&&(e.element=document.querySelector(e.element)),void 0===e.element||null===e.element){var n=document.querySelector(".introjsFloatingElement");null===n&&((n=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(n)),e.element=n,e.position="floating"}e.scrollTo=e.scrollTo||this._options.scrollTo,void 0===e.disableInteraction&&(e.disableInteraction=this._options.disableInteraction),null!==e.element&&i.push(e)}.bind(this));else{var o;if(e.length<1)return!1;L(e,function(t){if((!n||t.getAttribute("data-intro-group")===n)&&"none"!==t.style.display){var e=parseInt(t.getAttribute("data-step"),10);o=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,0<e&&(i[e-1]={element:t,intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:o})}}.bind(this));var s=0;L(e,function(t){if((!n||t.getAttribute("data-intro-group")===n)&&null===t.getAttribute("data-step")){for(;void 0!==i[s];)s++;o=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,i[s]={element:t,intro:t.getAttribute("data-intro"),step:s+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:o}}}.bind(this))}for(var r=[],a=0;a<i.length;a++)i[a]&&r.push(i[a]);return(i=r).sort(function(t,e){return t.step-e.step}),this._introItems=i,function(t){var e=document.createElement("div"),n="",i=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var o=C(t);o&&(n+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.style.cssText=n)}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.style.cssText=n;return t.appendChild(e),e.onclick=function(){!0===i._options.exitOnOverlayClick&&T.call(i,t)},window.setTimeout(function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",e.style.cssText=n},10),!0}.call(this,t)&&(S.call(this),this._options.keyboardNavigation&&u.on(window,"keydown",c,this,!0),u.on(window,"resize",l,this,!0)),!1}function l(){this.refresh.call(this)}function c(t){var e=null===t.code?t.which:t.code;if(null===e&&(e=null===t.charCode?t.keyCode:t.charCode),"Escape"!==e&&27!==e||!0!==this._options.exitOnEsc){if("ArrowLeft"===e||37===e)A.call(this);else if("ArrowRight"===e||39===e)S.call(this);else if("Enter"===e||13===e){var n=t.target||t.srcElement;n&&n.className.match("introjs-prevbutton")?A.call(this):n&&n.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),T.call(this,this._targetElement)):n&&n.getAttribute("data-stepnumber")?n.click():S.call(this),t.preventDefault?t.preventDefault():t.returnValue=!1}}else T.call(this,this._targetElement)}function h(t){if(null===t||"object"!=typeof t||void 0!==t.nodeType)return t;var e={};for(var n in t)void 0!==window.jQuery&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=h(t[n]);return e}function S(){this._direction="forward",void 0!==this._currentStepNumber&&L(this._introItems,function(t,e){t.step===this._currentStepNumber&&(this._currentStep=e-1,this._currentStepNumber=void 0)}.bind(this)),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],e=!0;return void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void T.call(this,this._targetElement)):void n.call(this,t)}function A(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;if(void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e)return++this._currentStep,!1;n.call(this,t)}function T(t,e){var n=!0;if(void 0!==this._introBeforeExitCallback&&(n=this._introBeforeExitCallback.call(this)),e||!1!==n){var i=t.querySelectorAll(".introjs-overlay");i&&i.length&&L(i,function(t){t.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(t),500)}.bind(this));var o=t.querySelector(".introjs-helperLayer");o&&o.parentNode.removeChild(o);var s=t.querySelector(".introjs-tooltipReferenceLayer");s&&s.parentNode.removeChild(s);var r=t.querySelector(".introjs-disableInteraction");r&&r.parentNode.removeChild(r);var a=document.querySelector(".introjsFloatingElement");a&&a.parentNode.removeChild(a),j(),L(document.querySelectorAll(".introjs-fixParent"),function(t){I(t,/introjs-fixParent/g)}),u.off(window,"keydown",c,this,!0),u.off(window,"resize",l,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function O(t,e,n,i,o){var s,r,a,l,c,h="";if(o=o||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit",null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep])switch(h="string"==typeof(s=this._introItems[this._currentStep]).tooltipClass?s.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+h).replace(/^\s+|\s+$/g,""),e.setAttribute("role","dialog"),"floating"!==(c=this._introItems[this._currentStep].position)&&(c=function(t,e,n){var i=this._options.positionPrecedence.slice(),o=m(),s=C(e).height+10,r=C(e).width+20,a=t.getBoundingClientRect(),l="floating";a.bottom+s+s>o.height&&g(i,"bottom");a.top-s<0&&g(i,"top");a.right+r>o.width&&g(i,"right");a.left-r<0&&g(i,"left");var c=function(t){var e=t.indexOf("-");return-1!==e?t.substr(e):""}(n||"");n=n&&n.split("-")[0];i.length&&(l="auto"!==n&&-1<i.indexOf(n)?n:i[0]);-1!==["top","bottom"].indexOf(l)&&(l+=function(t,e,n,i){var o=e/2,s=Math.min(n.width,window.screen.width),r=["-left-aligned","-middle-aligned","-right-aligned"],a="";s-t<e&&g(r,"-left-aligned");(t<o||s-t<o)&&g(r,"-middle-aligned");t<e&&g(r,"-right-aligned");a=r.length?-1!==r.indexOf(i)?i:r[0]:"-middle-aligned";return a}(a.left,r,o,c));return l}.call(this,t,e,c)),a=C(t),r=C(e),l=m(),P(e,"introjs-"+c),c){case"top-right-aligned":n.className="introjs-arrow bottom-right";var u=0;f(a,u,r,e),e.style.bottom=a.height+20+"px";break;case"top-middle-aligned":n.className="introjs-arrow bottom-middle";var d=a.width/2-r.width/2;o&&(d+=5),f(a,d,r,e)&&(e.style.right=null,p(a,d,r,l,e)),e.style.bottom=a.height+20+"px";break;case"top-left-aligned":case"top":n.className="introjs-arrow bottom",p(a,o?0:15,r,l,e),e.style.bottom=a.height+20+"px";break;case"right":e.style.left=a.width+20+"px",a.top+r.height>l.height?(n.className="introjs-arrow left-bottom",e.style.top="-"+(r.height-a.height-20)+"px"):n.className="introjs-arrow left";break;case"left":o||!0!==this._options.showStepNumbers||(e.style.top="15px"),a.top+r.height>l.height?(e.style.top="-"+(r.height-a.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",e.style.right=a.width+20+"px";break;case"floating":n.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+r.width/2+"px",e.style.marginTop="-"+r.height/2+"px",null!=i&&(i.style.left="-"+(r.width/2+18)+"px",i.style.top="-"+(r.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",f(a,u=0,r,e),e.style.top=a.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",d=a.width/2-r.width/2,o&&(d+=5),f(a,d,r,e)&&(e.style.right=null,p(a,d,r,l,e)),e.style.top=a.height+20+"px";break;default:n.className="introjs-arrow top",p(a,0,r,l,e),e.style.top=a.height+20+"px"}}function p(t,e,n,i,o){return t.left+e+n.width>i.width?(o.style.left=i.width-n.width-t.left+"px",!1):(o.style.left=e+"px",!0)}function f(t,e,n,i){return t.left+t.width-e-n.width<0?(i.style.left=-t.left+"px",!1):(i.style.right=e+"px",!0)}function g(t,e){-1<t.indexOf(e)&&t.splice(t.indexOf(e),1)}function N(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=C(e.element),i=this._options.helperElementPadding;a(e.element)?P(t,"introjs-fixedTooltip"):I(t,"introjs-fixedTooltip"),"floating"===e.position&&(i=0),t.style.cssText="width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-i/2)+"px;left: "+(n.left-i/2)+"px;"}}function F(t){t.setAttribute("role","button"),t.tabIndex=0}function n(o){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,o.element);var t,e,n,i,s=this,r=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-tooltipReferenceLayer"),l="introjs-helperLayer";if("string"==typeof o.highlightClass&&(l+=" "+o.highlightClass),"string"==typeof this._options.highlightClass&&(l+=" "+this._options.highlightClass),null!==r){var c=a.querySelector(".introjs-helperNumberLayer"),h=a.querySelector(".introjs-tooltiptext"),u=a.querySelector(".introjs-arrow"),d=a.querySelector(".introjs-tooltip");if(n=a.querySelector(".introjs-skipbutton"),e=a.querySelector(".introjs-prevbutton"),t=a.querySelector(".introjs-nextbutton"),r.className=l,d.style.opacity=0,d.style.display="none",null!==c){var p=this._introItems[0<=o.step-2?o.step-2:0];(null!==p&&"forward"===this._direction&&"floating"===p.position||"backward"===this._direction&&"floating"===o.position)&&(c.style.opacity=0)}(i=M(o.element))!==document.body&&z(i,o.element),N.call(s,r),N.call(s,a),L(document.querySelectorAll(".introjs-fixParent"),function(t){I(t,/introjs-fixParent/g)}),j(),s._lastShowElementTimer&&window.clearTimeout(s._lastShowElementTimer),s._lastShowElementTimer=window.setTimeout(function(){null!==c&&(c.innerHTML=o.step),h.innerHTML=o.intro,d.style.display="block",O.call(s,o.element,d,u,c),s._options.showBullets&&(a.querySelector(".introjs-bullets li > a.active").className="",a.querySelector('.introjs-bullets li > a[data-stepnumber="'+o.step+'"]').className="active"),a.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:"+H.call(s)+"%;",a.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",H.call(s)),d.style.opacity=1,c&&(c.style.opacity=1),null!=n&&/introjs-donebutton/gi.test(n.className)?n.focus():null!=t&&t.focus(),D.call(s,o.scrollTo,o,h)},350)}else{var f=document.createElement("div"),g=document.createElement("div"),m=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div"),_=document.createElement("div");f.className=l,g.className="introjs-tooltipReferenceLayer",(i=M(o.element))!==document.body&&z(i,o.element),N.call(s,f),N.call(s,g),this._targetElement.appendChild(f),this._targetElement.appendChild(g),m.className="introjs-arrow",y.className="introjs-tooltiptext",y.innerHTML=o.intro,!(b.className="introjs-bullets")===this._options.showBullets&&(b.style.display="none");var x=document.createElement("ul");x.setAttribute("role","tablist");function k(){s.goToStep(this.getAttribute("data-stepnumber"))}L(this._introItems,function(t,e){var n=document.createElement("li"),i=document.createElement("a");n.setAttribute("role","presentation"),i.setAttribute("role","tab"),i.onclick=k,e===o.step-1&&(i.className="active"),F(i),i.innerHTML="&nbsp;",i.setAttribute("data-stepnumber",t.step),n.appendChild(i),x.appendChild(n)}),b.appendChild(x),!(w.className="introjs-progress")===this._options.showProgress&&(w.style.display="none");var C=document.createElement("div");C.className="introjs-progressbar",C.setAttribute("role","progress"),C.setAttribute("aria-valuemin",0),C.setAttribute("aria-valuemax",100),C.setAttribute("aria-valuenow",H.call(this)),C.style.cssText="width:"+H.call(this)+"%;",w.appendChild(C),!(_.className="introjs-tooltipbuttons")===this._options.showButtons&&(_.style.display="none"),v.className="introjs-tooltip",v.appendChild(y),v.appendChild(b),v.appendChild(w);var $=document.createElement("span");!0===this._options.showStepNumbers&&($.className="introjs-helperNumberLayer",$.innerHTML=o.step,g.appendChild($)),v.appendChild(m),g.appendChild(v),(t=document.createElement("a")).onclick=function(){s._introItems.length-1!==s._currentStep&&S.call(s)},F(t),t.innerHTML=this._options.nextLabel,(e=document.createElement("a")).onclick=function(){0!==s._currentStep&&A.call(s)},F(e),e.innerHTML=this._options.prevLabel,(n=document.createElement("a")).className=this._options.buttonClass+" introjs-skipbutton ",F(n),n.innerHTML=this._options.skipLabel,n.onclick=function(){s._introItems.length-1===s._currentStep&&"function"==typeof s._introCompleteCallback&&s._introCompleteCallback.call(s),s._introItems.length-1!==s._currentStep&&"function"==typeof s._introExitCallback&&s._introExitCallback.call(s),"function"==typeof s._introSkipCallback&&s._introSkipCallback.call(s),T.call(s,s._targetElement)},_.appendChild(n),1<this._introItems.length&&(_.appendChild(e),_.appendChild(t)),v.appendChild(_),O.call(s,o.element,v,m,$),D.call(this,o.scrollTo,o,v)}var E=s._targetElement.querySelector(".introjs-disableInteraction");E&&E.parentNode.removeChild(E),o.disableInteraction&&function(){var t=document.querySelector(".introjs-disableInteraction");null===t&&((t=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(t)),N.call(this,t)}.call(s),0===this._currentStep&&1<this._introItems.length?(null!=n&&(n.className=this._options.buttonClass+" introjs-skipbutton"),null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton"),!0===this._options.hidePrev?(null!=e&&(e.className=this._options.buttonClass+" introjs-prevbutton introjs-hidden"),null!=t&&P(t,"introjs-fullbutton")):null!=e&&(e.className=this._options.buttonClass+" introjs-prevbutton introjs-disabled"),null!=n&&(n.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=n&&(n.innerHTML=this._options.doneLabel,P(n,"introjs-donebutton")),null!=e&&(e.className=this._options.buttonClass+" introjs-prevbutton"),!0===this._options.hideNext?(null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton introjs-hidden"),null!=e&&P(e,"introjs-fullbutton")):null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton introjs-disabled")):(null!=n&&(n.className=this._options.buttonClass+" introjs-skipbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-prevbutton"),null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton"),null!=n&&(n.innerHTML=this._options.skipLabel)),e.setAttribute("role","button"),t.setAttribute("role","button"),n.setAttribute("role","button"),null!=t&&t.focus(),function(t){var e;if(t.element instanceof SVGElement)for(e=t.element.parentNode;null!==t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&P(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;P(t.element,"introjs-showElement");var n=q(t.element,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&P(t.element,"introjs-relativePosition");e=t.element.parentNode;for(;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var i=q(e,"z-index"),o=parseFloat(q(e,"opacity")),s=q(e,"transform")||q(e,"-webkit-transform")||q(e,"-moz-transform")||q(e,"-ms-transform")||q(e,"-o-transform");(/[0-9]+/.test(i)||o<1||"none"!==s&&void 0!==s)&&P(e,"introjs-fixParent"),e=e.parentNode}}(o),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,o.element)}function D(t,e,n){var i;if("off"!==t&&(this._options.scrollToElement&&(i="tooltip"===t?n.getBoundingClientRect():e.element.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(e.element)))){var o=m().height;i.bottom-(i.bottom-i.top)<0||e.element.clientHeight>o?window.scrollBy(0,i.top-(o/2-i.height/2)-this._options.scrollPadding):window.scrollBy(0,i.top-(o/2-i.height/2)+this._options.scrollPadding)}}function j(){L(document.querySelectorAll(".introjs-showElement"),function(t){I(t,/introjs-[a-zA-Z]+/g)})}function L(t,e,n){if(t)for(var i=0,o=t.length;i<o;i++)e(t[i],i);"function"==typeof n&&n()}var o,s=(o={},function(t,e){return o[e=e||"introjs-stamp"]=o[e]||0,void 0===t[e]&&(t[e]=o[e]++),t[e]}),u=new function(){var a="introjs_event";this._id=function(t,e,n,i){return e+s(n)+(i?"_"+s(i):"")},this.on=function(e,t,n,i,o){function s(t){return n.call(i||e,t||window.event)}var r=this._id.apply(this,arguments);"addEventListener"in e?e.addEventListener(t,s,o):"attachEvent"in e&&e.attachEvent("on"+t,s),e[a]=e[a]||{},e[a][r]=s},this.off=function(t,e,n,i,o){var s=this._id.apply(this,arguments),r=t[a]&&t[a][s];r&&("removeEventListener"in t?t.removeEventListener(e,r,o):"detachEvent"in t&&t.detachEvent("on"+e,r),t[a][s]=null)}};function P(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n+" "+t)}else{if(void 0!==e.classList)L(t.split(" "),function(t){e.classList.add(t)});else e.className.match(t)||(e.className+=" "+t)}}function I(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function q(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function a(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===q(t,"position")||a(e))}function m(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function d(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function r(t){if(this._introItems=[],this._options.hints)L(this._options.hints,function(t){var e=h(t);"string"==typeof e.element&&(e.element=document.querySelector(e.element)),e.hintPosition=e.hintPosition||this._options.hintPosition,e.hintAnimation=e.hintAnimation||this._options.hintAnimation,null!==e.element&&this._introItems.push(e)}.bind(this));else{var e=t.querySelectorAll("*[data-hint]");if(!e||!e.length)return!1;L(e,function(t){var e=t.getAttribute("data-hintanimation");e=e?"true"===e:this._options.hintAnimation,this._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:e,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}(function(){var s=this,r=document.querySelector(".introjs-hints");null===r&&((r=document.createElement("div")).className="introjs-hints");L(this._introItems,function(t,e){if(!document.querySelector('.introjs-hint[data-step="'+e+'"]')){var n=document.createElement("a");F(n),n.onclick=function(n){return function(t){var e=t?t:window.event;if(e.stopPropagation){e.stopPropagation()}if(e.cancelBubble!==null){e.cancelBubble=true}k.call(s,n)}}(e),n.className="introjs-hint",t.hintAnimation||P(n,"introjs-hint-no-anim"),a(t.element)&&P(n,"introjs-fixedhint");var i=document.createElement("div");i.className="introjs-hint-dot";var o=document.createElement("div");o.className="introjs-hint-pulse",n.appendChild(i),n.appendChild(o),n.setAttribute("data-step",e),t.targetElement=t.element,t.element=n,x.call(this,t.hintPosition,n,t.targetElement),r.appendChild(n)}}.bind(this)),document.body.appendChild(r),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}).call(this),u.on(document,"click",d,this,!1),u.on(window,"resize",v,this,!0)}function v(){L(this._introItems,function(t){void 0!==t.targetElement&&x.call(this,t.hintPosition,t.element,t.targetElement)}.bind(this))}function y(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function b(t){var e=y('.introjs-hint[data-step="'+t+'"]')[0];d.call(this),e&&P(e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function w(t){var e=y('.introjs-hint[data-step="'+t+'"]')[0];e&&I(e,/introjs-hidehint/g)}function _(t){var e=y('.introjs-hint[data-step="'+t+'"]')[0];e&&e.parentNode.removeChild(e)}function x(t,e,n){var i=C.call(this,n);switch(t){default:case"top-left":e.style.left=i.left+"px",e.style.top=i.top+"px";break;case"top-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+"px";break;case"bottom-left":e.style.left=i.left+"px",e.style.top=i.top+i.height-20+"px";break;case"bottom-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+i.height-20+"px";break;case"middle-left":e.style.left=i.left+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"bottom-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+i.height-20+"px";break;case"top-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+"px"}}function k(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),n=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,n,t);var i=d.call(this);if(parseInt(i,10)!==t){var o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");o.className="introjs-tooltip",o.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},s.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=n.hint;var c=document.createElement("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=b.bind(this,t),s.appendChild(l),s.appendChild(c),r.className="introjs-arrow",o.appendChild(r),o.appendChild(s),this._currentStep=e.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",e.getAttribute("data-step")),N.call(this,a),a.appendChild(o),document.body.appendChild(a),O.call(this,e,o,r,null,!0)}}function C(t){var e=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||e.scrollTop,o=window.pageXOffset||n.scrollLeft||e.scrollLeft,s=t.getBoundingClientRect();return{top:s.top+i,width:s.width,height:s.height,left:s.left+o}}function M(t){var e=window.getComputedStyle(t),n="absolute"===e.position,i=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var o=t;o=o.parentElement;)if(e=window.getComputedStyle(o),(!n||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX))return o;return document.body}function z(t,e){t.scrollTop=e.offsetTop-t.offsetTop}function H(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var $=function(t){var e;if("object"==typeof t)e=new i(t);else if("string"==typeof t){var n=document.querySelector(t);if(!n)throw new Error("There is no element with given selector.");e=new i(n)}else e=new i(document.body);return $.instances[s(e,"introjs-instance")]=e};return $.version="2.9.3",$.instances={},$.fn=i.prototype={clone:function(){return new i(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}(this._options,t),this},start:function(t){return e.call(this,this._targetElement,t),this},goToStep:function(t){return function(t){this._currentStep=t-2,void 0!==this._introItems&&S.call(this)}.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return function(t){this._currentStepNumber=t,void 0!==this._introItems&&S.call(this)}.call(this,t),this},nextStep:function(){return S.call(this),this},previousStep:function(){return A.call(this),this},exit:function(t){return T.call(this,this._targetElement,t),this},refresh:function(){return function(){if(N.call(this,document.querySelector(".introjs-helperLayer")),N.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),N.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");O.call(this,this._introItems[this._currentStep].element,n,e,t)}return v.call(this),this}.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onskip:function(t){if("function"!=typeof t)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return r.call(this,this._targetElement),this},hideHint:function(t){return b.call(this,t),this},hideHints:function(){return function(){L(y(".introjs-hint"),function(t){b.call(this,t.getAttribute("data-step"))}.bind(this))}.call(this),this},showHint:function(t){return w.call(this,t),this},showHints:function(){return function(){var t=y(".introjs-hint");t&&t.length?L(t,function(t){w.call(this,t.getAttribute("data-step"))}.bind(this)):r.call(this,this._targetElement)}.call(this),this},removeHints:function(){return function(){L(y(".introjs-hint"),function(t){_.call(this,t.getAttribute("data-step"))}.bind(this))}.call(this),this},removeHint:function(t){return _.call(this,t),this},showHintDialog:function(t){return k.call(this,t),this}},$}),function(){"use strict";var s="undefined"!=typeof window&&void 0!==window.document?window.document:{},t="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=e.length,o={};n<i;n++)if((t=e[n])&&t[1]in s){for(n=0;n<t.length;n++)o[e[0][n]]=t[n];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},e={request:function(t){var e=i.requestFullscreen;t=t||s.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[e]():t[e](n?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){s[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){var n=o[t];n&&s.addEventListener(n,e,!1)},off:function(t,e){var n=o[t];n&&s.removeEventListener(n,e,!1)},raw:i};i?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(s[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return s[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(s[i.fullscreenEnabled])}}}),t?module.exports=e:window.screenfull=e):t?module.exports=!1:window.screenfull=!1}(),function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{e(t.jQuery),t.jquerySlidePanelEs={}}}(this,function(t){"use strict";var e,u=(e=t)&&e.__esModule?e:{default:e};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(){return void 0!==window.performance&&window.performance.now?window.performance.now():Date.now()}var s={skin:null,classes:{base:"slidePanel",show:"slidePanel-show",loading:"slidePanel-loading",content:"slidePanel-content",dragging:"slidePanel-dragging",willClose:"slidePanel-will-close"},closeSelector:null,template:function(t){return'<div class="'+t.classes.base+" "+t.classes.base+"-"+t.direction+'"><div class="'+t.classes.content+'"></div></div>'},loading:{appendTo:"panel",template:function(t){return'<div class="'+t.classes.loading+'"></div>'},showCallback:function(t){this.$el.addClass(t.classes.loading+"-show")},hideCallback:function(t){this.$el.removeClass(t.classes.loading+"-show")}},contentFilter:function(t,e){return t},useCssTransforms3d:!0,useCssTransforms:!0,useCssTransitions:!0,dragTolerance:150,mouseDragHandler:null,mouseDrag:!0,touchDrag:!0,pointerDrag:!0,direction:"right",duration:"500",easing:"ease",beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,onChange:$.noop,beforeHide:$.noop,afterHide:$.noop,beforeDrag:$.noop,afterDrag:$.noop},r=(n(a,[{key:"initialize",value:function(t,e){var n=(arguments.length<=1?void 0:e)||{};if("string"==typeof t)t={url:t};else if(t&&1===t.nodeType){var i=(0,u.default)(t);t={url:i.attr("href"),settings:i.data("settings")||{},options:i.data()||{}}}return t&&t.options?t.options=u.default.extend(!0,n,t.options):t.options=n,t.options=u.default.extend(!0,{},s,t.options),u.default.extend(this,t),this}}]),a);function a(t){o(this,a);for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.initialize.apply(this,[t].concat(n))}var l,c,h,p,f,g,m,v,y,b={};function w(t){return y(t,!0)}function _(a,e,l,n){function c(t,e){return 1-3*e+3*t}function h(t,e){return 3*e-6*t}function u(t){return 3*t}function d(t,e,n){return((c(e,n)*t+h(e,n))*t+u(e))*t}return a===e&&l===n?{css:"linear",fn:function(t){return t}}:{css:"cubic-bezier("+a+","+e+","+l+","+n+")",fn:function(t){return d(function(t){for(var e,n,i,o=t,s=0;s<4;++s){var r=(e=o,3*c(n=a,i=l)*e*e+2*h(n,i)*e+u(n));if(0===r)return o;o-=(d(o,a,l)-t)/r}return o}(t),e,n)}}}l=b,c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},h=["webkit","Moz","O","ms"],p=(0,u.default)("<support>").get(0).style,f=function(){return Boolean(y("transform"))},g=function(){return Boolean(y("perspective"))},m=function(){return Boolean(y("transition"))},v=function(){return Boolean(y("animation"))},y=function(t,e){var n=!1,i=t.charAt(0).toUpperCase()+t.slice(1);return void 0!==p[t]&&(n=t),n||u.default.each(h,function(t,e){return void 0===p[e+i]||(n="-"+e.toLowerCase()+"-"+i,!1)}),e?n:!!n},m()&&(l.transition=new String(w("transition")),l.transition.end=c.transition.end[l.transition]),v()&&(l.animation=new String(w("animation")),l.animation.end=c.animation.end[l.animation]),f()&&(l.transform=new String(w("transform")),l.transform3d=g()),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?l.touch=!0:l.touch=!1,window.PointerEvent||window.MSPointerEvent?l.pointer=!0:l.pointer=!1,l.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t};var x={ease:_(.25,.1,.25,1),linear:_(0,0,1,1),"ease-in":_(.42,0,1,1),"ease-out":_(0,0,.58,1),"ease-in-out":_(.42,0,.58,1)},k={prepareTransition:function(t,e,n,i,o){var s=[];e&&s.push(e),n&&(u.default.isNumeric(n)&&(n+="ms"),s.push(n)),i?s.push(i):s.push(this.easing.css),o&&s.push(o),t.css(b.transition,s.join(" "))},do:function(o,t,s){N.enter("animating");var e=o.options.duration,r=o.options.easing||"ease",a=this,n=o.makePositionStyle(t),i=null;for(i in n)if({}.hasOwnProperty.call(n,i))break;if(o.options.useCssTransitions&&b.transition)setTimeout(function(){a.prepareTransition(o.$panel,i,e,r)},20),o.$panel.one(b.transition.end,function(){u.default.isFunction(s)&&s(),o.$panel.css(b.transition,""),N.leave("animating")}),setTimeout(function(){o.setPosition(t)},20);else{var l=d(),c=o.getPosition(),h=t;a._frameId=window.requestAnimationFrame(function t(e){var n=(e-l)/o.options.duration;1<n&&(n=1),n=x[r].fn(n);var i=parseFloat(c+n*(h-c),10);o.setPosition(i),1===n?(window.cancelAnimationFrame(a._frameId),a._frameId=null,u.default.isFunction(s)&&s(),N.leave("animating")):a._frameId=window.requestAnimationFrame(t)})}}},C=(n(E,[{key:"initialize",value:function(t){this._view=t,this.build()}},{key:"build",value:function(){if(!this._builded){var t=this._view.options,e=t.loading.template.call(this,t);switch(this.$el=(0,u.default)(e),t.loading.appendTo){case"panel":this.$el.appendTo(this._view.$panel);break;case"body":this.$el.appendTo("body");break;default:this.$el.appendTo(t.loading.appendTo)}this._builded=!0}}},{key:"show",value:function(t){this.build();var e=this._view.options;e.loading.showCallback.call(this,e),u.default.isFunction(t)&&t.call(this)}},{key:"hide",value:function(t){var e=this._view.options;e.loading.hideCallback.call(this,e),u.default.isFunction(t)&&t.call(this)}}]),E);function E(t){o(this,E),this.initialize(t)}var S=(n(A,[{key:"initialize",value:function(t){this._view=t,this.options=t.options,this._drag={time:null,pointer:null},this.bindEvents()}},{key:"bindEvents",value:function(){var t=this._view.$panel,e=this.options;e.mouseDrag&&(t.on(N.eventName("mousedown"),u.default.proxy(this.onDragStart,this)),t.on(N.eventName("dragstart selectstart"),function(t){if(!e.mouseDragHandler||(0,u.default)(t.target).is(e.mouseDragHandler)||0<(0,u.default)(t.target).parents(e.mouseDragHandler).length)return!1})),e.touchDrag&&b.touch&&(t.on(N.eventName("touchstart"),u.default.proxy(this.onDragStart,this)),t.on(N.eventName("touchcancel"),u.default.proxy(this.onDragEnd,this))),e.pointerDrag&&b.pointer&&(t.on(N.eventName(b.prefixPointerEvent("pointerdown")),u.default.proxy(this.onDragStart,this)),t.on(N.eventName(b.prefixPointerEvent("pointercancel")),u.default.proxy(this.onDragEnd,this)))}},{key:"onDragStart",value:function(t){var e=this;if(3!==t.which){var n=this.options;this._view.$panel.addClass(this.options.classes.dragging),this._position=this._view.getPosition(!0),this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(t);var i=function(){N.enter("dragging"),N.trigger(e._view,"beforeDrag")};if(n.mouseDrag){if(n.mouseDragHandler&&!((0,u.default)(t.target).is(n.mouseDragHandler)||0<(0,u.default)(t.target).parents(n.mouseDragHandler).length))return;(0,u.default)(document).on(N.eventName("mouseup"),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName("mousemove"),u.default.proxy(function(){(0,u.default)(document).on(N.eventName("mousemove"),u.default.proxy(this.onDragMove,this)),i()},this))}n.touchDrag&&b.touch&&((0,u.default)(document).on(N.eventName("touchend"),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName("touchmove"),u.default.proxy(function(){(0,u.default)(document).on(N.eventName("touchmove"),u.default.proxy(this.onDragMove,this)),i()},this))),n.pointerDrag&&b.pointer&&((0,u.default)(document).on(N.eventName(b.prefixPointerEvent("pointerup")),u.default.proxy(this.onDragEnd,this)),(0,u.default)(document).one(N.eventName(b.prefixPointerEvent("pointermove")),u.default.proxy(function(){(0,u.default)(document).on(N.eventName(b.prefixPointerEvent("pointermove")),u.default.proxy(this.onDragMove,this)),i()},this))),(0,u.default)(document).on(N.eventName("blur"),u.default.proxy(this.onDragEnd,this)),t.preventDefault()}}},{key:"onDragMove",value:function(t){var e=this.distance(this._drag.pointer,this.pointer(t));N.is("dragging")&&(Math.abs(e)>this.options.dragTolerance?!0!==this._willClose&&(this._willClose=!0,this._view.$panel.addClass(this.options.classes.willClose)):!1!==this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),N.is("dragging")&&(t.preventDefault(),this.move(e)))}},{key:"onDragEnd",value:function(t){var e=this.distance(this._drag.pointer,this.pointer(t));(0,u.default)(document).off(N.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")),this._view.$panel.removeClass(this.options.classes.dragging),!0===this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),N.is("dragging")&&(N.leave("dragging"),N.trigger(this._view,"afterDrag"),Math.abs(e)<this.options.dragTolerance?this._view.revert():this._view.hide())}},{key:"pointer",value:function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e}},{key:"distance",value:function(t,e){var n=this.options.direction;return"left"===n||"right"===n?e.x-t.x:e.y-t.y}},{key:"move",value:function(t){var e=this._position+t;if("right"===this.options.direction||"bottom"===this.options.direction){if(e<0)return}else if(0<e)return;this.options.useCssTransforms||this.options.useCssTransforms3d||"right"!==this.options.direction&&"bottom"!==this.options.direction||(e=-e),this._view.setPosition(e+"px")}}]),A);function A(){o(this,A),this.initialize.apply(this,arguments)}var T=(n(O,[{key:"initialize",value:function(t){this.options=t,this._instance=null,this._showed=!1,this._isLoading=!1,this.build()}},{key:"setLength",value:function(){switch(this.options.direction){case"top":case"bottom":this._length=this.$panel.outerHeight();break;case"left":case"right":this._length=this.$panel.outerWidth()}}},{key:"build",value:function(){if(!this._builded){var t=this.options,e=t.template.call(this,t),n=this;this.$panel=(0,u.default)(e).appendTo("body"),t.skin&&this.$panel.addClass(t.skin),this.$content=this.$panel.find("."+this.options.classes.content),t.closeSelector&&this.$panel.on("click touchstart",t.closeSelector,function(){return n.hide(),!1}),this.loading=new C(this),this.setLength(),this.setPosition(this.getHidePosition()),(t.mouseDrag||t.touchDrag||t.pointerDrag)&&(this.drag=new S(this)),this._builded=!0}}},{key:"getHidePosition",value:function(){var t=this.options;if(t.useCssTransforms||t.useCssTransforms3d)switch(t.direction){case"top":case"left":return"-100";case"bottom":case"right":return"100"}switch(t.direction){case"top":case"bottom":return parseFloat(-this._length/(0,u.default)(window).height()*100,10);case"left":case"right":return parseFloat(-this._length/(0,u.default)(window).width()*100,10)}}},{key:"empty",value:function(){this._instance=null,this.$content.empty()}},{key:"load",value:function(e){var n=this,i=e.options;function o(t){t=i.contentFilter.call(this,t,e),n.$content.html(t),n.hideLoading(),n._instance=e,N.trigger(n,"afterLoad",e)}N.trigger(this,"beforeLoad",e),this.empty(),e.content?o(e.content):e.url?(this.showLoading(),u.default.ajax(e.url,e.settings||{}).done(function(t){o(t)})):o("")}},{key:"showLoading",value:function(){var t=this;this.loading.show(function(){t._isLoading=!0})}},{key:"hideLoading",value:function(){var t=this;this.loading.hide(function(){t._isLoading=!1})}},{key:"show",value:function(t){this.build(),N.enter("show"),N.trigger(this,"beforeShow"),(0,u.default)("html").addClass(this.options.classes.base+"-html"),this.$panel.addClass(this.options.classes.show);var e=this;k.do(this,0,function(){e._showed=!0,N.trigger(e,"afterShow"),u.default.isFunction(t)&&t.call(e)})}},{key:"change",value:function(t){N.trigger(this,"beforeShow"),N.trigger(this,"onChange",t,this._instance),this.load(t),N.trigger(this,"afterShow")}},{key:"revert",value:function(t){var e=this;k.do(this,0,function(){u.default.isFunction(t)&&t.call(e)})}},{key:"hide",value:function(t){N.leave("show"),N.trigger(this,"beforeHide");var e=this;k.do(this,this.getHidePosition(),function(){e.$panel.removeClass(e.options.classes.show),e._showed=!1,e._instance=null,N._current===e&&(N._current=null),N.is("show")||(0,u.default)("html").removeClass(e.options.classes.base+"-html"),u.default.isFunction(t)&&t.call(e),N.trigger(e,"afterHide")})}},{key:"makePositionStyle",value:function(t){var e=void 0,n="0",i="0";(function(t){return"string"==typeof t&&-1!==t.indexOf("%")})(t)||function(t){return"string"==typeof t&&-1!==t.indexOf("px")}(t)||(t+="%"),this.options.useCssTransforms&&b.transform?("left"===this.options.direction||"right"===this.options.direction?n=t:i=t,e=b.transform.toString(),t=this.options.useCssTransforms3d&&b.transform3d?"translate3d("+n+","+i+",0)":"translate("+n+","+i+")"):e=this.options.direction;var o={};return o[e]=t,o}},{key:"getPosition",value:function(t){var e=void 0;if(this.options.useCssTransforms&&b.transform){if(!(e=function(t){return!(!t||"matrix"!==t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}(this.$panel.css(b.transform))))return 0;e="left"===this.options.direction||"right"===this.options.direction?e[12]||e[4]:e[13]||e[5]}else e=this.$panel.css(this.options.direction),e=parseFloat(e.replace("px",""));return!0!==t&&(e=e/this._length*100),parseFloat(e,10)}},{key:"setPosition",value:function(t){var e=this.makePositionStyle(t);this.$panel.css(e)}}]),O);function O(t){o(this,O),this.initialize(t)}var N={_states:{},_views:{},_current:null,is:function(t){return this._states[t]&&0<this._states[t]},enter:function(t){void 0===this._states[t]&&(this._states[t]=0),this._states[t]++},leave:function(t){this._states[t]--},trigger:function(t,e){for(var n=arguments.length,i=Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=[t].concat(i);(0,u.default)(document).trigger("slidePanel::"+e,s),u.default.isFunction(t.options[e])&&t.options[e].apply(t,i)},eventName:function(t){if("string"!=typeof t||""===t)return".slidepanel";for(var e=(t=t.split(" ")).length,n=0;n<e;n++)t[n]=t[n]+".slidepanel";return t.join(" ")},show:function(t,e){var n=this;if(!(t instanceof r))switch(arguments.length){case 0:t=new r;break;case 1:t=new r(t);break;case 2:t=new r(t,e)}function i(){o.show(),o.load(t),n._current=o}var o=this.getView(t.options);null!==this._current?o===this._current?this._current.change(t):this._current.hide(i):i()},getView:function(t){var e=function(t){"string"!=typeof t&&(t=JSON.stringify(t));var e,n=0,i=void 0;if(0===t.length)return n;for(i=0,e=t.length;i<e;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return n}(t);return this._views.hasOwnProperty(e)?this._views[e]:this._views[e]=new T(t)},hide:function(t){void 0!==t&&void 0!==t.options?this.getView(t.options).hide():null!==this._current&&this._current.hide()}},F={is:function(t){return N.is(t)},show:function(t,e){return N.show(t,e),this},hide:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.hide(e),this}};Date.now||(Date.now=function(){return(new Date).getTime()});for(var D=["webkit","moz"],j=0;j<D.length&&!window.requestAnimationFrame;++j){var L=D[j];window.requestAnimationFrame=window[L+"RequestAnimationFrame"],window.cancelAnimationFrame=window[L+"CancelAnimationFrame"]||window[L+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS (6|7|8)/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var P=0;window.requestAnimationFrame=function(t){var e=d(),n=Math.max(P+16,e);return setTimeout(function(){t(P=n)},n-e)},window.cancelAnimationFrame=clearTimeout}function I(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=t;return"string"==typeof t?this.each(function(){var t=u.default.data(this,"slidePanel");switch(t instanceof r||(t=new r(this,n),u.default.data(this,"slidePanel",t)),o){case"hide":N.hide(t);break;case"show":N.show(t)}}):this.each(function(){u.default.data(this,"slidePanel")||(u.default.data(this,"slidePanel",new r(this,t)),(0,u.default)(this).on("click",function(t){var e=u.default.data(this,"slidePanel");N.show(e),t.preventDefault(),t.stopPropagation()}))})}var q=u.default.fn.slidePanel;u.default.fn.slidePanel=I,u.default.slidePanel=function(){N.show.apply(N,arguments)},u.default.extend(u.default.slidePanel,{setDefaults:function(t){u.default.extend(!0,s,u.default.isPlainObject(t)&&t)},noConflict:function(){return u.default.fn.slidePanel=q,I}},{version:"0.3.5"},F)}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(h){var t=function(){if(h&&h.fn&&h.fn.select2&&h.fn.select2.amd)var t=h.fn.select2.amd;var e,n,i,p,s,r,f,g,m,v,y,b,o,a,w;return t&&t.requirejs||(t?n=t:t={},m={},v={},y={},b={},o=Object.prototype.hasOwnProperty,a=[].slice,w=/\.js$/,f=function(t,e){var n,i=c(t),o=i[0],s=e[1];return t=i[1],o&&(n=C(o=l(o,s))),o?t=n&&n.normalize?n.normalize(t,function(e){return function(t){return l(t,e)}}(s)):l(t,s):(o=(i=c(t=l(t,s)))[0],t=i[1],o&&(n=C(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},g={require:function(t){return x(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:function(t){return function(){return y&&y.config&&y.config[t]||{}}}(t)}}},s=function(t,e,n,i){var o,s,r,a,l,c,h,u=[],d=typeof n;if(c=E(i=i||t),"undefined"==d||"function"==d){for(e=!e.length&&n.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(s=(a=f(e[l],c)).f))u[l]=g.require(t);else if("exports"===s)u[l]=g.exports(t),h=!0;else if("module"===s)o=u[l]=g.module(t);else if(_(m,s)||_(v,s)||_(b,s))u[l]=C(s);else{if(!a.p)throw new Error(t+" missing "+s);a.p.load(a.n,x(i,!0),k(s),{}),u[l]=m[s]}r=n?n.apply(m[t],u):void 0,t&&(o&&o.exports!==p&&o.exports!==m[t]?m[t]=o.exports:r===p&&h||(m[t]=r))}else t&&(m[t]=n)},e=n=r=function(t,e,n,i,o){if("string"==typeof t)return g[t]?g[t](e):C(f(t,E(e)).f);if(!t.splice){if((y=t).deps&&r(y.deps,y.callback),!e)return;e.splice?(t=e,e=n,n=null):t=p}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?s(p,t,e,n):setTimeout(function(){s(p,t,e,n)},4),r},r.config=function(t){return r(t)},e._defined=m,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),_(m,t)||_(v,t)||(v[t]=[t,e,n])}).amd={jQuery:!0},t.requirejs=e,t.require=n,t.define=i),t.define("almond",function(){}),t.define("jquery",[],function(){var t=h||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(s){function h(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}function t(){this.listeners={}}var o={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(i,o){function s(){var t=Array.prototype.unshift,e=o.prototype.constructor.length,n=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}var t=h(o),e=h(i);o.displayName=i.displayName,s.prototype=new function(){this.constructor=s};for(var n=0;n<e.length;n++){var r=e[n];s.prototype[r]=i.prototype[r]}function a(t){var e=function(){};t in s.prototype&&(e=s.prototype[t]);var n=o.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}}for(var l=0;l<t.length;l++){var c=t[l];s.prototype[c]=a(c)}return s}};t.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},o.Observable=t,o.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},o.bind=function(t,e){return function(){t.apply(e,arguments)}},o._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var s=n[o];(s=s.substring(0,1).toLowerCase()+s.substring(1))in i||(i[s]={}),o==n.length-1&&(i[s]=t[e]),i=i[s]}delete t[e]}}return t},o.hasScroll=function(t,e){var n=s(e),i=e.style.overflowX,o=e.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth)},o.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},o.appendMany=function(t,e){if("1.7"===s.fn.jquery.substr(0,3)){var n=s();s.map(e,function(t){n=n.add(t)}),e=n}t.append(e)},o.__cache={};var n=0;return o.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++n),e=n.toString())),e},o.StoreData=function(t,e,n){var i=o.GetUniqueElementId(t);o.__cache[i]||(o.__cache[i]={}),o.__cache[i][e]=n},o.GetData=function(t,e){var n=o.GetUniqueElementId(t);return e?o.__cache[n]&&null!=o.__cache[n][e]?o.__cache[n][e]:s(t).data(e):o.__cache[n]},o.RemoveData=function(t){var e=o.GetUniqueElementId(t);null!=o.__cache[e]&&delete o.__cache[e]},o}),t.define("select2/results",["jquery","./utils"],function(d,p){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return p.Extend(i,p.Observable),i.prototype.render=function(){var t=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=d('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);n.append(e(i(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=d.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=d(this),e=p.GetData(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<d.inArray(n,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[i];e.setAttribute(i,o)}if(t.children){var s=d(e),r=document.createElement("strong");r.className="select2-results__group",d(r),this.template(t,r);for(var a=[],l=0;l<t.children.length;l++){var c=t.children[l],h=this.option(c);a.push(h)}var u=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});u.append(a),s.append(r),s.append(u)}else this.template(t,e);return p.StoreData(e,"data",t),e},i.prototype.bind=function(e,t){var l=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=p.GetData(t[0],"data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var i=n-1;0===t.length&&(i=0);var o=e.eq(i);o.trigger("mouseenter");var s=l.$results.offset().top,r=o.offset().top,a=l.$results.scrollTop()+(r-s);0===i?l.$results.scrollTop(0):r-s<0&&l.$results.scrollTop(a)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),r=l.$results.scrollTop()+s-o;0===n?l.$results.scrollTop(0):o<s&&l.$results.scrollTop(r)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-e+t.deltaY,i=0<t.deltaY&&e-t.deltaY<=0,o=t.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),n=p.GetData(this,"data");"true"!==e.attr("aria-selected")?l.trigger("select",{originalEvent:t,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=p.GetData(this,"data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:d(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),s=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,e){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(t,e);null==o?e.style.display="none":"string"==typeof o?e.innerHTML=i(o):d(e).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,o){function s(t,e){this.$element=t,this.options=e,s.__super__.constructor.call(this)}return i.Extend(s,i.Observable),s.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},s.prototype.bind=function(t,e){var n=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===o.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),window.setTimeout(function(){n.$selection.focus()},0),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},s.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},s.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){n(this),this!=e[0]&&i.GetData(this,"element").select2("close")})})},s.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},s.prototype.position=function(t,e){e.find(".selection").append(t)},s.prototype.destroy=function(){this._detachCloseHandler(this.container)},s.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},s}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()})},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.attr("title",e.title||e.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(o,t,a){function n(t,e){n.__super__.constructor.apply(this,arguments)}return a.Extend(n,t),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(t,e){var i=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){i.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.options.get("disabled")){var e=o(this).parent(),n=a.GetData(e[0],"data");i.trigger("unselect",{originalEvent:t,data:n})}})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},n.prototype.selectionContainer=function(){return o('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=this.selectionContainer(),s=this.display(i,o);o.append(s),o.attr("title",i.title||i.text),a.StoreData(o[0],"data",i),e.push(o)}var r=this.$selection.find(".select2-selection__rendered");a.appendMany(r,e)}},n}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,o,a){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var i=a.GetData(n[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var s={data:i};if(this.trigger("clear",s),s.prevented)return void this.$element.val(o);for(var r=0;r<i.length;r++)if(s={data:i[r]},this.trigger("unselect",s),s.prevented)return void this.$element.val(o);this.$element.trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||e.which!=o.DELETE&&e.which!=o.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var n=i('<span class="select2-selection__clear">&times;</span>');a.StoreData(n[0],"data",e),this.$selection.find(".select2-selection__rendered").prepend(n)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,r,a){function t(t,e,n){t.call(this,e,n)}return t.prototype.render=function(t){var e=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var n=t.call(this);return this._transferTabIndex(),n},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){i.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===a.BACKSPACE&&""===i.$search.val()){var e=i.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var n=r.GetData(e[0],"data");i.searchRemoveChoice(n),t.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){s?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&i.handleSearch(t)}})},t.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},t.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&(this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus())},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},t}),t.define("select2/selection/eventRelay",["jquery"],function(r){function t(){}return t.prototype.bind=function(t,e,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,e,n),e.on("*",function(t,e){if(-1!==r.inArray(t,o)){e=e||{};var n=r.Event("select2:"+t,{params:e});i.$element.trigger(n),-1!==r.inArray(t,s)&&(e.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var e=n(t);i._cache[t]=e}return new i(i._cache[t])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(i){function n(t,e){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){var n=t.id+"-result-";return n+=i.generateChars(4),null!=e.id?n+="-"+e.id.toString():n+="-"+i.generateChars(4),n},n}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,a,l){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return a.Extend(n,t),n.prototype.current=function(t){var n=[],i=this;this.$element.find(":selected").each(function(){var t=l(this),e=i.item(t);n.push(e)}),t(n)},n.prototype.select=function(o){var s=this;if(o.selected=!0,l(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(o=[o]).push.apply(o,t);for(var n=0;n<o.length;n++){var i=o[n].id;-1===l.inArray(i,e)&&e.push(i)}s.$element.val(e),s.$element.trigger("change")});else{var t=o.id;this.$element.val(t),this.$element.trigger("change")}},n.prototype.unselect=function(o){var s=this;if(this.$element.prop("multiple")){if(o.selected=!1,l(o.element).is("option"))return o.element.selected=!1,void this.$element.trigger("change");this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].id;i!==o.id&&-1===l.inArray(i,e)&&e.push(i)}s.$element.val(e),s.$element.trigger("change")})}},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},n.prototype.query=function(i,t){var o=[],s=this;this.$element.children().each(function(){var t=l(this);if(t.is("option")||t.is("optgroup")){var e=s.item(t),n=s.matches(i,e);null!==n&&o.push(n)}}),t({results:o})},n.prototype.addOptions=function(t){a.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=l(e),i=this._normalizeItem(t);return i.element=e,a.StoreData(e,"data",i),n},n.prototype.item=function(t){var e={};if(null!=(e=a.GetData(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),i=[],o=0;o<n.length;o++){var s=l(n[o]),r=this.item(s);i.push(r)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],a.StoreData(t[0],"data",e),e},n.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=l.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),l.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,f,g){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return f.Extend(i,t),i.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(t){function e(t){return function(){return g(this).val()==t.id}}for(var n=this,i=this.$element.find("option"),o=i.map(function(){return n.item(g(this)).id}).get(),s=[],r=0;r<t.length;r++){var a=this._normalizeItem(t[r]);if(0<=g.inArray(a.id,o)){var l=i.filter(e(a)),c=this.item(l),h=g.extend(!0,{},a,c),u=this.option(h);l.replaceWith(u)}else{var d=this.option(a);if(a.children){var p=this.convertToOptions(a.children);f.appendMany(d,p)}s.push(d)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,s){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return s.extend({},t,{q:t.term})},transport:function(t,e,n){var i=s.ajax(t);return i.then(e),i.fail(n),i}};return s.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(n,i){function t(){var t=e.transport(e,function(t){var e=o.processResults(t,n);o.options.get("debug")&&window.console&&console.error&&(e&&e.results&&s.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(e)},function(){"status"in t&&(0===t.status||"0"===t.status)||o.trigger("results:message",{message:"errorLoading"})});o._request=t}var o=this;null!=this._request&&(s.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=s.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url.call(this.$element,n)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(h){function t(t,e,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,e,n),h.isArray(i))for(var r=0;r<i.length;r++){var a=i[r],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return t.prototype.query=function(t,c,h){var u=this;this._removeOldTags(),null!=c.term&&null==c.page?t.call(this,c,function t(e,n){for(var i=e.results,o=0;o<i.length;o++){var s=i[o],r=null!=s.children&&!t({results:s.children},!0);if((s.text||"").toUpperCase()===(c.term||"").toUpperCase()||r)return!n&&(e.data=i,void h(e))}if(n)return!0;var a=u.createTag(c);if(null!=a){var l=u.option(a);l.attr("data-select2-tag",!0),u.addOptions([l]),u.insertTag(i,a)}e.results=i,h(e)}):t.call(this,c,h)},t.prototype.createTag=function(t,e){var n=h.trim(e.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||h(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(u){function t(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var i=this;e.term=e.term||"";var o=this.tokenizer(e,this.options,function(t){var e=i._normalizeItem(t);if(!i.$element.find("option").filter(function(){return u(this).val()===e.id}).length){var n=i.option(e);n.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([n])}!function(t){i.trigger("select",{data:t})}(e)});o.term!==e.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),e.term=o.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,i){for(var o=n.get("tokenSeparators")||[],s=e.term,r=0,a=this.createTag||function(t){return{id:t.term,text:t.term}};r<s.length;){var l=s[r];if(-1!==u.inArray(l,o)){var c=s.substr(0,r),h=a(u.extend({},e,{term:c}));null!=h?(i(h),s=s.substr(r+1)||"",r=0):r++}else r++}return{term:s}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(n,i,o){var s=this;this.current(function(t){var e=null!=t?t.length:0;0<s.maximumSelectionLength&&e>=s.maximumSelectionLength?s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):n.call(s,i,o)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.blur()}),e.on("focus",function(){e.isOpen()||i.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function t(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",function(){var t=o.contains(document.documentElement,i.$loadingMore[0]);!i.loading&&t&&i.$results.offset().top+i.$results.outerHeight(!1)+50>=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)&&i.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=o.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,a){function t(t,e,n){this.$dropdownParent=n.get("dropdownParent")||f(document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=f("<span></span>"),n=t.call(this);return e.append(n),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var n=this,i="scroll.select2."+e.id,o="resize.select2."+e.id,s="orientationchange.select2."+e.id,r=this.$container.parents().filter(a.hasScroll);r.each(function(){a.StoreData(this,"select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),r.on(i,function(t){var e=a.GetData(this,"select2-scroll-position");f(this).scrollTop(e.y)}),f(window).on(i+" "+o+" "+s,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id;this.$container.parents().filter(a.hasScroll).off(n),f(window).off(n+" "+i+" "+o)},t.prototype._positionDropdown=function(){var t=f(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var r=this.$dropdown.outerHeight(!1),a=t.scrollTop(),l=t.scrollTop()+t.height(),c=a<o.top-r,h=l>o.bottom+r,u={left:o.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var p=d.offset();u.top-=p.top,u.left-=p.left,e||n||(i="below"),h||!c||e?!c&&h&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(u.top=s.top-p.top-r),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(u)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(s){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=s.GetData(i[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,g,m,v,y,b,w,_,x,k,C,e,$,E,S,A,T,O,N,F,D,j,L,P,I,q,M,z,t){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=f.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=S:null!=e.data?e.dataAdapter=E:e.dataAdapter=$,0<e.minimumInputLength&&(e.dataAdapter=k.Decorate(e.dataAdapter,O)),0<e.maximumInputLength&&(e.dataAdapter=k.Decorate(e.dataAdapter,N)),0<e.maximumSelectionLength&&(e.dataAdapter=k.Decorate(e.dataAdapter,F)),e.tags&&(e.dataAdapter=k.Decorate(e.dataAdapter,A)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=k.Decorate(e.dataAdapter,T)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=k.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=g(e.amdBase+"compat/initSelection");e.dataAdapter=k.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,P)),null!=e.placeholder&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,L)),e.selectOnClose&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,M))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=D;else{var i=k.Decorate(D,j);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=k.Decorate(e.dropdownAdapter,q)),e.closeOnSelect&&(e.dropdownAdapter=k.Decorate(e.dropdownAdapter,z)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var o=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=k.Decorate(e.dropdownAdapter,o)}e.dropdownAdapter=k.Decorate(e.dropdownAdapter,I)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,w)),e.multiple&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,_)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var s=g(e.amdBase+"compat/containerCss");e.selectionAdapter=k.Decorate(e.selectionAdapter,s)}e.selectionAdapter=k.Decorate(e.selectionAdapter,x)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var r=e.language.split("-")[0];e.language=[e.language,r]}else e.language=[e.language];if(f.isArray(e.language)){var a=new C;e.language.push("en");for(var l=e.language,c=0;c<l.length;c++){var h=l[c],u={};try{u=C.loadPath(h)}catch(t){try{h=this.defaults.amdLanguageBase+h,u=C.loadPath(h)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+h+'" could not be automatically loaded. A fallback will be used instead.');continue}}a.extend(u)}e.translations=a}else{var d=C.loadPath(this.defaults.amdLanguageBase+"en"),p=new C(e.language);p.extend(d),e.translations=p}return e},n.prototype.reset=function(){function a(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:k.escapeMarkup,language:t,matcher:function t(e,n){if(""===f.trim(e.term))return n;if(n.children&&0<n.children.length){for(var i=f.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==t(e,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:t(e,i)}var s=a(n.text).toUpperCase(),r=a(e.term).toUpperCase();return-1<s.indexOf(r)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.set=function(t,e){var n={};n[f.camelCase(t)]=e;var i=k._convertData(n);f.extend(!0,this.defaults,i)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(i,s,o,r){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=o.apply(this.options),e&&e.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,n)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),r.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(t[0],"data",r.GetData(t[0],"select2Tags")),r.StoreData(t[0],"tags",!0)),r.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",r.GetData(t[0],"ajaxUrl")),r.StoreData(t[0],"ajax-Url",r.GetData(t[0],"ajaxUrl")));var n;n=s.fn.jquery&&"1."==s.fn.jquery.substr(0,2)&&t[0].dataset?s.extend(!0,{},t[0].dataset,r.GetData(t[0])):r.GetData(t[0]);var i=s.extend(!0,{},n);for(var o in i=r._convertData(i))-1<s.inArray(o,e)||(s.isPlainObject(this.options[o])?s.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,h,i){var u=function(t,e){null!=h.GetData(t[0],"select2")&&h.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new c(e,t),u.__super__.constructor.call(this);var n=t.attr("tabindex")||0;h.StoreData(t[0],"old-tabindex",n),t.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(t,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var r=this.options.get("dropdownAdapter");this.dropdown=new r(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var a=this.options.get("resultsAdapter");this.results=new a(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),h.StoreData(t[0],"select2",this),t.data("select2",this)};return h.Extend(u,h.Observable),u.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+h.generateChars(2):h.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},u.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},u.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return e;var s=t.attr("style");if("string"!=typeof s)return null;for(var r=s.split(";"),a=0,l=r.length;a<l;a+=1){var c=r[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=h.bind(this._syncAttributes,this),this._syncS=h.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){o.each(t,e._syncA),o.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,i)&&n.trigger(t,e)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(n.close(),t.preventDefault()):e===i.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},u.prototype.trigger=function(t,e){var n=u.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},u.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];o.isArray(e)&&(e=o.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},u.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",h.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),h.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},u.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),h.StoreData(t[0],"element",this.$element),t},u}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(o,t,s,e,r){if(null==o.fn.select2){var a=["open","close","destroy"];o.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=o.extend(!0,{},e);new s(o(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=r.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,i)}),-1<o.inArray(e,a)?this:n}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=e),s}),{define:t.define,require:t.require};function _(t,e){return o.call(t,e)}function l(t,e){var n,i,o,s,r,a,l,c,h,u,d,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t){for(r=(t=t.split("/")).length-1,y.nodeIdCompat&&w.test(t[r])&&(t[r]=t[r].replace(w,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),h=0;h<t.length;h++)if("."===(d=t[h]))t.splice(h,1),h-=1;else if(".."===d){if(0===h||1===h&&".."===t[2]||".."===t[h-1])continue;0<h&&(t.splice(h-1,2),h-=2)}t=t.join("/")}if((p||g)&&f){for(h=(n=t.split("/")).length;0<h;h-=1){if(i=n.slice(0,h).join("/"),p)for(u=p.length;0<u;u-=1)if((o=f[p.slice(0,u).join("/")])&&(o=o[i])){s=o,a=h;break}if(s)break;!l&&g&&g[i]&&(l=g[i],c=h)}!s&&l&&(s=l,a=c),s&&(n.splice(0,a,s),t=n.join("/"))}return t}function x(e,n){return function(){var t=a.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),r.apply(p,t.concat([e,n]))}}function k(e){return function(t){m[e]=t}}function C(t){if(_(v,t)){var e=v[t];delete v[t],b[t]=!0,s.apply(p,e)}if(!_(m,t)&&!_(b,t))throw new Error("No "+t);return m[t]}function c(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function E(t){return t?c(t):[]}}(),e=t.require("jquery.select2");return h.fn.select2.amd=t,e}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(_){"use strict";function o(n,i){_.each(["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"],function(t,e){void 0!==_(n).data(e)&&((i="object"==typeof i?i:{})[e]=_(n).data(e))}),this.$ns="bootstrap-markdown",this.$element=_(n),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=_.extend(!0,{},_.fn.markdown.defaults,i,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()}o.prototype={constructor:o,__alterButtons:function(n,i){var t=this.$handler,o="all"==n,s=this;_.each(t,function(t,e){!1===(!o&&e.indexOf(n)<0)&&i(s.$editor.find('button[data-handler="'+e+'"]'))})},__buildButtons:function(t,e){var n,i=this.$ns,o=this.$handler,s=this.$callback;for(n=0;n<t.length;n++){var r,a=t[n];for(r=0;r<a.length;r++){var l,c=a[r].data,h=_("<div/>",{class:"btn-group"});for(l=0;l<c.length;l++){var u,d,p=c[l],f=i+"-"+p.name,g=this.__getIcon(p.icon),m=p.btnText?p.btnText:"",v=p.btnClass?p.btnClass:"btn",y=p.tabIndex?p.tabIndex:"-1",b=void 0!==p.hotkey?p.hotkey:"",w=void 0!==jQuery.hotkeys&&""!==b?" ("+b+")":"";(u=_("<button></button>")).text(" "+this.__localize(m)).addClass("btn-default btn-sm").addClass(v),v.match(/btn\-(primary|success|info|warning|danger|link)/)&&u.removeClass("btn-default"),u.attr({type:"button",title:this.__localize(p.title)+w,tabindex:y,"data-provider":i,"data-handler":f,"data-hotkey":b}),!0===p.toggle&&u.attr("data-toggle","button"),(d=_("<span/>")).addClass(g),d.prependTo(u),h.append(u),o.push(f),s.push(p.callback)}e.append(h)}}return e},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),e=5<this.$textarea.val().split("\n").length?this.$textarea.val().split("\n").length:"5",n=t?this.$textarea.attr("rows"):e;this.$textarea.attr("rows",n),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:_.proxy(this.focus,this),keyup:_.proxy(this.keyup,this),change:_.proxy(this.change,this),select:_.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",_.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",_.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(t){var e=_(t.currentTarget),n=this.$handler,i=this.$callback,o=e.attr("data-handler"),s=i[n.indexOf(o)];_(t.currentTarget).focus(),s(this),this.change(this),o.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var e=_.fn.markdown.messages,n=this.$options.language;return void 0!==e&&void 0!==e[n]&&void 0!==e[n][t]?e[n][t]:t},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(t){var e=this.$editor,n=this.$textarea;!0===t?(e.addClass("md-fullscreen-mode"),_("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(e.removeClass("md-fullscreen-mode"),_("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,n.focus()},showEditor:function(){var n,e=this,t=this.$ns,i=this.$element,o=(i.css("height"),i.css("width"),this.$editable),s=this.$handler,r=this.$callback,a=this.$options,l=_("<div/>",{class:"md-editor",click:function(){e.focus()}});if(null===this.$editor){var c=_("<div/>",{class:"md-header btn-toolbar"}),h=[];if(0<a.buttons.length&&(h=h.concat(a.buttons[0])),0<a.additionalButtons.length&&_.each(a.additionalButtons[0],function(t,n){var e=_.grep(h,function(t,e){return t.name===n.name});0<e.length?e[0].data=e[0].data.concat(n.data):h.push(a.additionalButtons[0][t])}),0<a.reorderButtonGroups.length&&(h=h.filter(function(t){return-1<a.reorderButtonGroups.indexOf(t.name)}).sort(function(t,e){return a.reorderButtonGroups.indexOf(t.name)<a.reorderButtonGroups.indexOf(e.name)?-1:a.reorderButtonGroups.indexOf(t.name)>a.reorderButtonGroups.indexOf(e.name)?1:0})),0<h.length&&(c=this.__buildButtons([h],c)),a.fullscreen.enable&&c.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(a.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!0)}),l.append(c),i.is("textarea"))i.before(l),(n=i).addClass("md-input"),l.append(n);else{var u="function"==typeof toMarkdown?toMarkdown(i.html()):i.html(),d=_.trim(u);n=_("<textarea/>",{class:"md-input",val:d}),l.append(n),o.el=i,o.type=i.prop("tagName").toLowerCase(),o.content=i.html(),_(i[0].attributes).each(function(){o.attrKeys.push(this.nodeName),o.attrValues.push(this.nodeValue)}),i.replaceWith(l)}var p,f=_("<div/>",{class:"md-footer"}),g=!1;if(a.savable){g=!0;var m="cmdSave";s.push(m),r.push(a.onSave),f.append('<button class="btn btn-success" data-provider="'+t+'" data-handler="'+m+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(p="function"==typeof a.footer?a.footer(this):a.footer,""!==_.trim(p)&&(g=!0,f.append(p)),g&&l.append(f),a.width&&"inherit"!==a.width&&(jQuery.isNumeric(a.width)?(l.css("display","table"),n.css("width",a.width+"px")):l.addClass(a.width)),a.height&&"inherit"!==a.height)if(jQuery.isNumeric(a.height)){var v=a.height;c&&(v=Math.max(0,v-c.outerHeight())),f&&(v=Math.max(0,v-f.outerHeight())),n.css("height",v+"px")}else l.addClass(a.height);this.$editor=l,this.$textarea=n,this.$editable=o,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',_.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&c.find('[data-provider="bootstrap-markdown"]').each(function(){var t=_(this),e=t.attr("data-hotkey");""!==e.toLowerCase()&&n.bind("keydown",e,function(){return t.trigger("click"),!1})}),"preview"===a.initialstate?this.showPreview():"fullscreen"===a.initialstate&&a.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return a.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),a.fullscreen.enable&&!1!==a.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(a.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!1)})),this.hideButtons(a.hiddenButtons),this.disableButtons(a.disabledButtons),a.onShow(this),this},parseContent:function(t){t=t||this.$textarea.val();return this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var t,e,n=this.$options,i=this.$textarea,o=i.next(),s=_("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview||(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(e=n.onPreview(this))?e:this.parseContent(),s.html(t),o&&"md-footer"==o.attr("class")?s.insertBefore(o):i.parent().append(s),s.css({width:i.outerWidth()+"px",height:i.outerHeight()+"px"}),this.$options.resize&&s.css("resize",this.$options.resize),i.hide(),s.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all"))),this},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if(0<=(e=this.getContent().indexOf(t))&&0<t.length){var n,i=this.getSelection();return this.setSelection(e,e+t.length),n=this.getSelection(),this.setSelection(i.start,i.end),n}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(t,e){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=t,n.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&0<e.length&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var n=this;this.$nextTab.push(function(){return n.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var i=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return _.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return _.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return _.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.addClass("hidden")})}),this},showButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return _.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var n;if(null!==(n=this.getNextTab())){var i=this;setTimeout(function(){i.setSelection(n.start,n.end)},500),e=!0}else{var o=this.getSelection();e=(o.start!=o.end||o.end!=this.getContent().length)&&(this.setSelection(this.getContent().length,this.getContent().length),!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(t){return this.$options.onChange(this),this},select:function(t){return this.$options.onSelect(this),this},focus:function(t){var e=this.$options,n=(e.hideable,this.$editor);return n.addClass("active"),_(document).find(".md-editor").each(function(){var t;_(this).attr("id")!==n.attr("id")&&(null===(t=_(this).find("textarea").data("markdown"))&&(t=_(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),e.onFocus(this),this},blur:function(t){var e=this.$options,n=e.hideable,i=this.$editor,o=this.$editable;if(i.hasClass("active")||0===this.$element.parent().length){if(i.removeClass("active"),n)if(null!==o.el){var s=_("<"+o.type+"/>"),r=this.getContent(),a=this.parseContent(r);_(o.attrKeys).each(function(t,e){s.attr(o.attrKeys[t],o.attrValues[t])}),s.html(a),i.replaceWith(s)}else i.hide();e.onBlur(this)}return this}};var t=_.fn.markdown;_.fn.markdown=function(i){return this.each(function(){var t=_(this),e=t.data("markdown"),n="object"==typeof i&&i;e||t.data("markdown",e=new o(this,n))})},_.fn.markdown.messages={},_.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,n,i=t.getSelection(),o=t.getContent();e=0===i.length?t.__localize("strong text"):i.text,n="**"===o.substr(i.start-2,2)&&"**"===o.substr(i.end,2)?(t.setSelection(i.start-2,i.end+2),t.replaceSelection(e),i.start-2):(t.replaceSelection("**"+e+"**"),i.start+2),t.setSelection(n,n+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,n,i=t.getSelection(),o=t.getContent();e=0===i.length?t.__localize("emphasized text"):i.text,n="_"===o.substr(i.start-1,1)&&"_"===o.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),i.start-1):(t.replaceSelection("_"+e+"_"),i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,n,i,o,s=t.getSelection(),r=t.getContent();e=0===s.length?t.__localize("heading text"):s.text+"\n",i=4,n="### "===r.substr(s.start-i,i)||(i=3,"###"===r.substr(s.start-i,i))?(t.setSelection(s.start-i,s.end),t.replaceSelection(e),s.start-i):0<s.start&&((o=r.substr(s.start-1,1))&&"\n"!=o)?(t.replaceSelection("\n\n### "+e),s.start+6):(t.replaceSelection("### "+e),s.start+4),t.setSelection(n,n+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var e,n,i,o=t.getSelection();t.getContent();e=0===o.length?t.__localize("enter link description here"):o.text,i=prompt(t.__localize("Insert Hyperlink"),"http://");var s=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==i&&""!==i&&"http://"!==i&&s.test(i)){var r=_("<div>"+i+"</div>").text();t.replaceSelection("["+e+"]("+r+")"),n=o.start+1,t.setSelection(n,n+e.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var e,n,i,o=t.getSelection();t.getContent();e=0===o.length?t.__localize("enter image description here"):o.text,i=prompt(t.__localize("Insert Image Hyperlink"),"http://");var s=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==i&&""!==i&&"http://"!==i&&s.test(i)){var r=_("<div>"+i+"</div>").text();t.replaceSelection("!["+e+"]("+r+' "'+t.__localize("enter image title here")+'")'),n=o.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(n,n+e.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var e,n,i=t.getSelection();t.getContent();if(0===i.length)e=t.__localize("list text here"),t.replaceSelection("- "+e),n=i.start+2;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("- "+e),n=i.start+2;else{var o=[];e=(o=i.text.split("\n"))[0],_.each(o,function(t,e){o[t]="- "+e}),t.replaceSelection("\n\n"+o.join("\n")),n=i.start+4}t.setSelection(n,n+e.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var e,n,i=t.getSelection();t.getContent();if(0===i.length)e=t.__localize("list text here"),t.replaceSelection("1. "+e),n=i.start+3;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("1. "+e),n=i.start+3;else{var o=[];e=(o=i.text.split("\n"))[0],_.each(o,function(t,e){o[t]="1. "+e}),t.replaceSelection("\n\n"+o.join("\n")),n=i.start+5}t.setSelection(n,n+e.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,n,i=t.getSelection(),o=t.getContent();e=0===i.length?t.__localize("code text here"):i.text,n="```\n"===o.substr(i.start-4,4)&&"\n```"===o.substr(i.end,4)?(t.setSelection(i.start-4,i.end+4),t.replaceSelection(e),i.start-4):"`"===o.substr(i.start-1,1)&&"`"===o.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),i.start-1):-1<o.indexOf("\n")?(t.replaceSelection("```\n"+e+"\n```"),i.start+4):(t.replaceSelection("`"+e+"`"),i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var e,n,i=t.getSelection();t.getContent();if(0===i.length)e=t.__localize("quote here"),t.replaceSelection("> "+e),n=i.start+2;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("> "+e),n=i.start+2;else{var o=[];e=(o=i.text.split("\n"))[0],_.each(o,function(t,e){o[t]="> "+e}),t.replaceSelection("\n\n"+o.join("\n")),n=i.start+4}t.setSelection(n,n+e.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(t){},onPreview:function(t){},onSave:function(t){},onBlur:function(t){},onFocus:function(t){},onChange:function(t){},onFullscreen:function(t){},onSelect:function(t){}},_.fn.markdown.Constructor=o,_.fn.markdown.noConflict=function(){return _.fn.markdown=t,this};function e(t){var e=t;e.data("markdown")?e.data("markdown").showEditor():e.markdown()}_(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){e(_(this)),t.preventDefault()}).on("click focusin",function(t){!function(){var i=_(document.activeElement);_(document).find(".md-editor").each(function(){var t=_(this),e=i.closest(".md-editor")[0]===this,n=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");n&&!e&&n.blur()})}()}).ready(function(){_('textarea[data-provide="markdown"]').each(function(){e(_(this))})})}),function(t){"use strict";var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function l(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||g.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.options.tables?this.rules=y.tables:this.rules=y.gfm)}y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=e(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d+\.)/,y.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,y.item=e(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=e(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=e(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=e(y.paragraph).replace("hr",y.hr).replace("heading",y.heading).replace("lheading",y.lheading).replace("tag",y._tag).getRegex(),y.blockquote=e(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=f({},y),y.gfm=f({},y.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),y.gfm.paragraph=e(y.paragraph).replace("(?!","(?!"+y.gfm.fences.source.replace("\\1","\\2")+"|"+y.list.source.replace("\\1","\\3")+"|").getRegex(),y.tables=f({},y.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),y.pedantic=f({},y.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),l.rules=y,l.lex=function(t,e){return new l(e).lex(t)},l.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},l.prototype.token=function(t,e){var n,i,o,s,r,a,l,c,h,u,d,p,f,g,m,v;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:w(o,"\n")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))&&(a={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(o[0].length),d=0;d<a.align.length;d++)/^ *-+: *$/.test(a.align[d])?a.align[d]="right":/^ *:-+: *$/.test(a.align[d])?a.align[d]="center":/^ *:-+ *$/.test(a.align[d])?a.align[d]="left":a.align[d]=null;for(d=0;d<a.cells.length;d++)a.cells[d]=b(a.cells[d],a.header.length);this.tokens.push(a)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),l={type:"list_start",ordered:g=1<(s=o[2]).length,start:g?+s:"",loose:!1},this.tokens.push(l),n=!(c=[]),f=(o=o[0].match(this.rules.item)).length,d=0;d<f;d++)u=(a=o[d]).length,~(a=a.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&d!==f-1&&(s===(r=y.bullet.exec(o[d+1])[0])||1<s.length&&1<r.length||(t=o.slice(d+1).join("\n")+t,d=f-1)),i=n||/\n\n(?!\s*$)/.test(a),d!==f-1&&(n="\n"===a.charAt(a.length-1),i=i||n),i&&(l.loose=!0),v=void 0,(m=/^\[[ xX]\] /.test(a))&&(v=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:m,checked:v,loose:i},c.push(h),this.tokens.push(h),this.token(a,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=c.length,d=0;d<f;d++)c[d].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))&&(a={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(o[0].length),d=0;d<a.align.length;d++)/^ *-+: *$/.test(a.align[d])?a.align[d]="right":/^ *:-+: *$/.test(a.align[d])?a.align[d]="center":/^ *:-+ *$/.test(a.align[d])?a.align[d]="left":a.align[d]=null;for(d=0;d<a.cells.length;d++)a.cells[d]=b(a.cells[d].replace(/^ *\| *| *\| *$/g,""),a.header.length);this.tokens.push(a)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var n={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:p,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function c(t,e){if(this.options=e||g.defaults,this.links=t,this.rules=n.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.breaks?this.rules=n.breaks:this.rules=n.gfm)}function i(t){this.options=t||g.defaults}function o(){}function h(t){this.tokens=[],this.token=null,this.options=t||g.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(t,e){if(e){if(u.escapeTest.test(t))return t.replace(u.escapeReplace,function(t){return u.replacements[t]})}else if(u.escapeTestNoEncode.test(t))return t.replace(u.escapeReplaceNoEncode,function(t){return u.replacements[t]});return t}function d(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function e(n,t){return n=n.source||n,t=t||"",{replace:function(t,e){return e=(e=e.source||e).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(t,e),this},getRegex:function(){return new RegExp(n,t)}}}function s(t,e){return r[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?r[" "+t]=t+"/":r[" "+t]=w(t,"/",!0)),t=r[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}n._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=e(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,n.tag=e(n.tag).replace("comment",y._comment).replace("attribute",n._attribute).getRegex(),n._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,n._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,n._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,n.link=e(n.link).replace("label",n._label).replace("href",n._href).replace("title",n._title).getRegex(),n.reflink=e(n.reflink).replace("label",n._label).getRegex(),n.normal=f({},n),n.pedantic=f({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",n._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n._label).getRegex()}),n.gfm=f({},n.normal,{escape:e(n.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:e(n.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),n.gfm.url=e(n.gfm.url).replace("email",n.gfm._extended_email).getRegex(),n.breaks=f({},n.gfm,{br:e(n.br).replace("{2,}","*").getRegex(),text:e(n.gfm.text).replace("{2,}","*").getRegex()}),c.rules=n,c.output=function(t,e,n){return new c(e,n).output(t)},c.prototype.output=function(t){for(var e,n,i,o,s,r,a="";t;)if(s=this.rules.escape.exec(t))t=t.substring(s[0].length),a+=s[1];else if(s=this.rules.autolink.exec(t))t=t.substring(s[0].length),i="@"===s[2]?"mailto:"+(n=u(this.mangle(s[1]))):n=u(s[1]),a+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(t))){if(s=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),t=t.substring(s[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(t))t=t.substring(s[0].length),this.inLink=!0,i=s[2],o=this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=e[1],e[3]):"":s[3]?s[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),a+=this.outputLink(s,{href:c.escapes(i),title:c.escapes(o)}),this.inLink=!1;else if((s=this.rules.reflink.exec(t))||(s=this.rules.nolink.exec(t))){if(t=t.substring(s[0].length),e=(s[2]||s[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){a+=s[0].charAt(0),t=s[0].substring(1)+t;continue}this.inLink=!0,a+=this.outputLink(s,e),this.inLink=!1}else if(s=this.rules.strong.exec(t))t=t.substring(s[0].length),a+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(t))t=t.substring(s[0].length),a+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(t))t=t.substring(s[0].length),a+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(t))t=t.substring(s[0].length),a+=this.renderer.br();else if(s=this.rules.del.exec(t))t=t.substring(s[0].length),a+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),this.inRawBlock?a+=this.renderer.text(s[0]):a+=this.renderer.text(u(this.smartypants(s[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===s[2])i="mailto:"+(n=u(s[0]));else{for(;r=s[0],s[0]=this.rules._backpedal.exec(s[0])[0],r!==s[0];);n=u(s[0]),i="www."===s[1]?"http://"+n:n}t=t.substring(s[0].length),a+=this.renderer.link(i,null,n)}return a},c.escapes=function(t){return t?t.replace(c.rules._escapes,"$1"):t},c.prototype.outputLink=function(t,e){var n=e.href,i=e.title?u(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,u(t[1]))},c.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},c.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,o=0;o<i;o++)e=t.charCodeAt(o),.5<Math.random()&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},i.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+u(e,!0)+'">'+(n?t:u(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:u(t,!0))+"</code></pre>"},i.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},i.prototype.html=function(t){return t},i.prototype.heading=function(t,e,n){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(t,e,n){var i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"},i.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},i.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},i.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n"+(e=e&&"<tbody>"+e+"</tbody>")+"</table>\n"},i.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},i.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},i.prototype.strong=function(t){return"<strong>"+t+"</strong>"},i.prototype.em=function(t){return"<em>"+t+"</em>"},i.prototype.codespan=function(t){return"<code>"+t+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(t){return"<del>"+t+"</del>"},i.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(d(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!a.test(t)&&(t=s(this.options.baseUrl,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(t){return n}var o='<a href="'+u(t)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+n+"</a>"},i.prototype.image=function(t,e,n){this.options.baseUrl&&!a.test(t)&&(t=s(this.options.baseUrl,t));var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},i.prototype.text=function(t){return t},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(t){return t},o.prototype.link=o.prototype.image=function(t,e,n){return""+n},o.prototype.br=function(){return""},h.parse=function(t,e){return new h(e).parse(t)},h.prototype.parse=function(t){this.inline=new c(t.links,this.options),this.inlineText=new c(t.links,f({},this.options,{renderer:new o})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,o="",s="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var r=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,r,a);case"list_item_start":s="";var l=this.token.loose;for(this.token.task&&(s+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)s+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(s);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var r={},a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function p(){}function f(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function b(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var i=!1,o=e;0<=--o&&"\\"===n[o];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function w(t,e,n){if(0===t.length)return"";for(var i=0;i<t.length;){var o=t.charAt(t.length-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,t.length-i)}function g(t,n,i){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(i||"function"==typeof n){i||(i=n,n=null);var o,s,r=(n=f({},g.defaults,n||{})).highlight,e=0;try{o=l.lex(t,n)}catch(t){return i(t)}s=o.length;var a=function(e){if(e)return n.highlight=r,i(e);var t;try{t=h.parse(o,n)}catch(t){e=t}return n.highlight=r,e?i(e):i(null,t)};if(!r||r.length<3)return a();if(delete n.highlight,!s)return a();for(;e<o.length;e++)!function(n){"code"!==n.type?--s||a():r(n.text,n.lang,function(t,e){return t?a(t):null==e||e===n.text?--s||a():(n.text=e,n.escaped=!0,void(--s||a()))})}(o[e])}else try{return n=n&&f({},g.defaults,n),h.parse(l.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||g.defaults).silent)return"<p>An error occurred:</p><pre>"+u(t.message+"",!0)+"</pre>";throw t}}p.exec=p,g.options=g.setOptions=function(t){return f(g.defaults,t),g},g.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new i,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},g.defaults=g.getDefaults(),g.Parser=h,g.parser=h.parse,g.Renderer=i,g.TextRenderer=o,g.Lexer=l,g.lexer=l.lex,g.InlineLexer=c,g.inlineLexer=c.output,g.parse=g,"undefined"!=typeof module&&"object"==typeof exports?module.exports=g:"function"==typeof define&&define.amd?define(function(){return g}):t.marked=g}(this||("undefined"!=typeof window?window:global)),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).toMarkdown=t()}}(function(){return function s(r,a,l){function c(n,t){if(!a[n]){if(!r[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(h)return h(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};r[n][0].call(o.exports,function(t){var e=r[n][1][t];return c(e||t)},o,o.exports,s,r,a,l)}return a[n].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){"use strict";var r,a,s=t("./lib/md-converters"),l=t("./lib/gfm-converters"),c=t("./lib/html-parser"),h=t("collapse-whitespace"),i=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function u(t){return-1!==i.indexOf(t.nodeName.toLowerCase())}var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function d(t){return-1!==o.indexOf(t.nodeName.toLowerCase())}function p(t){for(var e="",n=0;n<t.childNodes.length;n++)if(1===t.childNodes[n].nodeType)e+=t.childNodes[n]._replacement;else{if(3!==t.childNodes[n].nodeType)continue;e+=t.childNodes[n].data}return e}function f(t,e){if("string"==typeof e)return e===t.nodeName.toLowerCase();if(Array.isArray(e))return-1!==e.indexOf(t.nodeName.toLowerCase());if("function"==typeof e)return e.call(r,t);throw new TypeError("`filter` needs to be a string, array, or function")}function g(t,e){var n,i,o;return i="left"===t?(n=e.previousSibling,/ $/):(n=e.nextSibling,/^ /),n&&(3===n.nodeType?o=i.test(n.nodeValue):1!==n.nodeType||u(n)||(o=i.test(n.textContent))),o}function m(t,e){var n="",i="";if(!u(t)){var o=/^[ \r\n\t]/.test(e),s=/[ \r\n\t]$/.test(e);o&&!g("left",t)&&(n=" "),s&&!g("right",t)&&(i=" ")}return{leading:n,trailing:i}}function v(t){var e,n=p(t);if(d(t)||/A|TH|TD/.test(t.nodeName)||!/^\s*$/i.test(n)){for(var i=0;i<a.length;i++){var o=a[i];if(f(t,o.filter)){if("function"!=typeof o.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var s=m(t,n);(s.leading||s.trailing)&&(n=n.trim()),e=s.leading+o.replacement.call(r,n,t)+s.trailing;break}}t._replacement=e}else t._replacement=""}(r=function(t,e){if(e=e||{},"string"!=typeof t)throw new TypeError(t+" is not a string");if(""===t)return"";var n=function(t){var e=(new c).parseFromString(t,"text/html");return h(e.documentElement,u),e}(t=t.replace(/(\d+)\. /g,"$1\\. ")).body,i=function(t){for(var e,n,i,o=[t],s=[];0<o.length;)for(e=o.shift(),s.push(e),n=e.childNodes,i=0;i<n.length;i++)1===n[i].nodeType&&o.push(n[i]);return s.shift(),s}(n);a=s.slice(0),e.gfm&&(a=l.concat(a)),e.converters&&(a=e.converters.concat(a));for(var o=i.length-1;0<=o;o--)v(i[o]);return p(n).replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")}).isBlock=u,r.isVoid=d,r.outer=function(t,e){return t.cloneNode(!1).outerHTML.replace("><",">"+e+"<")},e.exports=r},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(t,e,n){"use strict";function a(t,e){var n=" ";return 0===Array.prototype.indexOf.call(e.parentNode.childNodes,e)&&(n="| "),n+t+" |"}var i=/highlight highlight-(\S+)/;e.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(t){return"~~"+t+"~~"}},{filter:function(t){return"checkbox"===t.type&&"LI"===t.parentNode.nodeName},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(t,e){return a(t,e)}},{filter:"tr",replacement:function(t,e){var n="",i={left:":--",right:"--:",center:":-:"};if("THEAD"===e.parentNode.nodeName)for(var o=0;o<e.childNodes.length;o++){var s=e.childNodes[o].attributes.align,r="---";s&&(r=i[s.value]||r),n+=a(r,e.childNodes[o])}return"\n"+t+(n?"\n"+n:"")}},{filter:"table",replacement:function(t){return"\n\n"+t+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(t){return t}},{filter:function(t){return"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e){return"\n\n```\n"+e.firstChild.textContent+"\n```\n\n"}},{filter:function(t){return"PRE"===t.nodeName&&"DIV"===t.parentNode.nodeName&&i.test(t.parentNode.className)},replacement:function(t,e){return"\n\n```"+e.parentNode.className.match(i)[1]+"\n"+e.textContent+"\n```\n\n"}},{filter:function(t){return"DIV"===t.nodeName&&i.test(t.className)},replacement:function(t){return"\n\n"+t+"\n\n"}}]},{}],3:[function(n,t,e){var i="undefined"!=typeof window?window:this;t.exports=function(){var t=i.DOMParser,e=!1;try{(new t).parseFromString("","text/html")&&(e=!0)}catch(t){}return e}()?i.DOMParser:function(){function t(){}if("undefined"==typeof document){var e=n("jsdom");t.prototype.parseFromString=function(t){return e.jsdom(t,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else t.prototype.parseFromString=function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e};return t}()},{jsdom:6}],4:[function(t,e,n){"use strict";e.exports=[{filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e){for(var n=e.nodeName.charAt(1),i="",o=0;o<n;o++)i+="#";return"\n\n"+i+" "+t+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(t){return"_"+t+"_"}},{filter:["strong","b"],replacement:function(t){return"**"+t+"**"}},{filter:function(t){var e=t.previousSibling||t.nextSibling,n="PRE"===t.parentNode.nodeName&&!e;return"CODE"===t.nodeName&&!n},replacement:function(t){return"`"+t+"`"}},{filter:function(t){return"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e){var n=e.title?' "'+e.title+'"':"";return"["+t+"]("+e.getAttribute("href")+n+")"}},{filter:"img",replacement:function(t,e){var n=e.alt||"",i=e.getAttribute("src")||"",o=e.title||"";return i?"!["+n+"]("+i+(o?' "'+o+'"':"")+")":""}},{filter:function(t){return"PRE"===t.nodeName&&"CODE"===t.firstChild.nodeName},replacement:function(t,e){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(t){return"\n\n"+(t=(t=(t=t.trim()).replace(/\n{3,}/g,"\n\n")).replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(t,e){t=t.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n=e.parentNode,i=Array.prototype.indexOf.call(n.children,e)+1;return(/ol/i.test(n.nodeName)?i+".  ":"*   ")+t}},{filter:["ul","ol"],replacement:function(t,e){for(var n=[],i=0;i<e.childNodes.length;i++)n.push(e.childNodes[i]._replacement);return/li/i.test(e.parentNode.nodeName)?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(t){return this.isBlock(t)},replacement:function(t,e){return"\n\n"+this.outer(e,t)+"\n\n"}},{filter:function(){return!0},replacement:function(t,e){return this.outer(e,t)}}]},{}],5:[function(t,e,n){e.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(t,e,n){},{}],7:[function(t,e,n){"use strict";var c=t("void-elements");Object.keys(c).forEach(function(t){c[t.toUpperCase()]=1});var i={};function h(t){return!(!t||!i[t.nodeName])}function u(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function d(t,e){return t&&t.parentNode===e||"PRE"===e.nodeName?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}t("block-elements").forEach(function(t){i[t.toUpperCase()]=1}),e.exports=function(t,e){if(t.firstChild&&"PRE"!==t.nodeName){"function"!=typeof e&&(e=h);for(var n,i=null,o=!1,s=null,r=d(s,t);r!==t;){if(3===r.nodeType){var a=r.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||o||" "!==a[0]||(a=a.substr(1)),!a){r=u(r);continue}r.data=a,i=r}else{if(1!==r.nodeType){r=u(r);continue}e(r)||"BR"===r.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,o=!1):(n=r)&&c[n.nodeName]&&(o=!(i=null))}var l=d(s,r);s=r,r=l}i&&(i.data=i.data.replace(/ $/,""),i.data||u(i))}}},{"block-elements":5,"void-elements":8}],8:[function(t,e,n){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function e(c,h){"use strict";var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},l={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},d={};function p(t,e,n){t.stopPropagation(),t.preventDefault(),c.isFunction(n)&&!1===n.call(e,t)||e.modal("hide")}function f(t,n){var i=0;c.each(t,function(t,e){n(t,e,i++)})}function g(t,e,n){return c.extend(!0,{},t,function(t,e){var n=t.length,i={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}(e,n))}function n(t,e,n,i){return v(g({className:"bootbox-"+t,buttons:m.apply(null,e)},i,n),e)}function m(){for(var t,e,n={},i=0,o=arguments.length;i<o;i++){var s=arguments[i],r=s.toLowerCase(),a=s.toUpperCase();n[r]={label:(t=a,void 0,e=y[l.locale],e?e[t]:y.en[t])}}return n}function v(t,e){var n={};return f(e,function(t,e){n[e]=!0}),f(t.buttons,function(t){if(n[t]===h)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}d.alert=function(){var t;if((t=n("alert",["ok"],["message","callback"],arguments)).callback&&!c.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!c.isFunction(t.callback)||t.callback.call(this)},d.dialog(t)},d.confirm=function(){var t;if((t=n("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!c.isFunction(t.callback))throw new Error("confirm requires a callback");return d.dialog(t)},d.prompt=function(){var e,t,n,i,o,s,r;if(i=c(u.form),t={className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},s=(e=v(g(t,arguments,["title","callback"]),["cancel","confirm"])).show===h||e.show,e.message=i,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var t=o.find("input:checked");n=[],f(t,function(t,e){n.push(c(e).val())})}return e.callback.call(this,n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!c.isFunction(e.callback))throw new Error("prompt requires a callback");if(!u.inputs[e.inputType])throw new Error("invalid prompt type");switch(o=c(u.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(e.value);break;case"select":var a={};if(r=e.inputOptions||[],!c.isArray(r))throw new Error("Please pass an array of input options");if(!r.length)throw new Error("prompt with select requires options");f(r,function(t,e){var n=o;if(e.value===h||e.text===h)throw new Error("given options in wrong format");e.group&&(a[e.group]||(a[e.group]=c("<optgroup/>").attr("label",e.group)),n=a[e.group]),n.append("<option value='"+e.value+"'>"+e.text+"</option>")}),f(a,function(t,e){o.append(e)}),o.val(e.value);break;case"checkbox":var l=c.isArray(e.value)?e.value:[e.value];if(!(r=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!r[0].value||!r[0].text)throw new Error("given options in wrong format");o=c("<div/>"),f(r,function(t,n){var i=c(u.inputs[e.inputType]);i.find("input").attr("value",n.value),i.find("label").append(n.text),f(l,function(t,e){e===n.value&&i.find("input").prop("checked",!0)}),o.append(i)})}return e.placeholder&&o.attr("placeholder",e.placeholder),e.pattern&&o.attr("pattern",e.pattern),e.maxlength&&o.attr("maxlength",e.maxlength),i.append(o),i.on("submit",function(t){t.preventDefault(),t.stopPropagation(),n.find(".btn-primary").click()}),(n=d.dialog(e)).off("shown.bs.modal"),n.on("shown.bs.modal",function(){o.focus()}),!0===s&&n.modal("show"),n},d.dialog=function(t){t=function(t){var i,o;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=c.extend({},l,t)).buttons||(t.buttons={}),i=t.buttons,o=function(t){var e,n=0;for(e in t)n++;return n}(i),f(i,function(t,e,n){if(c.isFunction(e)&&(e=i[t]={callback:e}),"object"!==c.type(e))throw new Error("button with key "+t+" must be an object");e.label||(e.label=t),e.className||(e.className=o<=2&&n===o-1?"btn-primary":"btn-default")}),t}(t);var n=c(u.dialog),e=n.find(".modal-dialog"),i=n.find(".modal-body"),o=t.buttons,s="",r={onEscape:t.onEscape};if(c.fn.modal===h)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(f(o,function(t,e){s+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",r[t]=e.callback}),i.find(".bootbox-body").html(t.message),!0===t.animate&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?e.addClass("modal-lg"):"small"===t.size&&e.addClass("modal-sm"),t.title&&i.before(u.header),t.closeButton){var a=c(u.closeButton);t.title?n.find(".modal-header").prepend(a):a.css("margin-top","-10px").prependTo(i)}return t.title&&n.find(".modal-title").html(t.title),s.length&&(i.after(u.footer),n.find(".modal-footer").html(s)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){r.onEscape&&p(t,n,r.onEscape)}),n.on("click",".modal-footer button",function(t){var e=c(this).data("bb-handler");p(t,n,r[e])}),n.on("click",".bootbox-close-button",function(t){p(t,n,r.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),c(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},d.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],c.extend(l,t)},d.hideAll=function(){return c(".bootbox").modal("hide"),d};var y={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return d.addLocale=function(t,n){return c.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),y[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},d},d.removeLocale=function(t){return delete y[t],d},d.setLocale=function(t){return d.setDefaults("locale",t)},d.init=function(t){return e(t||c)},d}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";var g,s=["webkit","Moz","ms","O"],m={};function v(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function y(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}var t,b=(t=v("style",{type:"text/css"}),y(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet);function i(t,e){var n,i,o=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<s.length;i++)if(void 0!==o[n=s[i]+e])return n;if(void 0!==o[e])return e}function w(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function _(t,e){return"string"==typeof t?t:t[e%t.length]}var n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function o(t){this.opts=e(t||{},o.defaults,n)}o.defaults={},e(o.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=w(v(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(i.radius,i.length,i.width,w(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!g){var s,r=0,a=(i.lines-1)*(1-i.direction)/2,l=i.fps,c=l/i.speed,h=(1-i.opacity)/(c*i.trail/100),u=c/i.lines;!function t(){r++;for(var e=0;e<i.lines;e++)s=Math.max(1-(r+(i.lines-e)*u)%c*h,i.opacity),n.opacity(o,e*i.direction+a,s,i);n.timeout=n.el&&setTimeout(t,~~(1e3/l))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,n){var e,i,o,s,r,a,l,c,h,u,d=0,p=(n.lines-1)*(1-n.direction)/2;function f(t,e){return w(v(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*d+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;d<n.lines;d++)e=w(v(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:g&&(i=n.opacity,o=n.trail,s=p+d*n.direction,r=n.lines,a=["opacity",o,~~(100*i),s,r].join("-"),l=.01+s/r*100,c=Math.max(1-(1-i)/o*(100-l),i),h=g.substring(0,g.indexOf("Animation")).toLowerCase(),u=h&&"-"+h+"-"||"",m[a]||(b.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+c+"}"+l+"%{opacity:"+i+"}"+(.01+l)+"%{opacity:1}"+(l+o)%100+"%{opacity:"+i+"}100%{opacity:"+c+"}}",b.cssRules.length),m[a]=1),a+" "+1/n.speed+"s linear infinite")}),n.shadow&&y(e,w(f("#000","0 0 4px #000"),{top:"2px"})),y(t,y(e,f(_(n.color,d),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var r=w(v("group"),{behavior:"url(#default#VML)"});return!i(r,"transform")&&r.adj?(b.addRule(".spin-vml","behavior:url(#default#VML)"),o.prototype.lines=function(t,i){var o=i.length+i.width,e=2*o;function s(){return w(c("group",{coordsize:e+" "+e,coordorigin:-o+" "+-o}),{width:e,height:e})}var n,r=2*-(i.width+i.length)+"px",a=w(s(),{position:"absolute",top:r,left:r});function l(t,e,n){y(a,y(w(s(),{rotation:360/i.lines*t+"deg",left:~~e}),y(w(c("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),c("fill",{color:_(i.color,t),opacity:i.opacity}),c("stroke",{opacity:0}))))}if(i.shadow)for(n=1;n<=i.lines;n++)l(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)l(n);return y(t,a)},o.prototype.opacity=function(t,e,n,i){var o=t.firstChild;i=i.shadow&&i.lines||0,o&&e+i<o.childNodes.length&&(o=(o=(o=o.childNodes[e+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n)}):g=i(r,"animation"),o;function c(t,e){return v("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}}),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)}(this,function(c){"use strict";var h=[];function t(n){if(void 0!==n){if(/ladda-button/i.test(n.className)||(n.className+=" ladda-button"),n.hasAttribute("data-style")||n.setAttribute("data-style","expand-right"),!n.querySelector(".ladda-label")){var t=document.createElement("span");t.className="ladda-label",e=n,i=t,(o=document.createRange()).selectNodeContents(e),o.surroundContents(i),e.appendChild(i)}var e,i,o,s,r,a=n.querySelector(".ladda-spinner");a||((a=document.createElement("span")).className="ladda-spinner"),n.appendChild(a);var l={start:function(){return s=s||function(t){var e,n,i=t.offsetHeight;0===i&&(i=parseFloat(window.getComputedStyle(t).height)),32<i&&(i*=.8),t.hasAttribute("data-spinner-size")&&(i=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(e=t.getAttribute("data-spinner-color")),t.hasAttribute("data-spinner-lines")&&(n=parseInt(t.getAttribute("data-spinner-lines"),10));var o=.2*i;return new c({color:e||"#fff",lines:n||12,radius:o,length:.6*o,width:o<7?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}(n),n.disabled=!0,n.setAttribute("data-loading",""),clearTimeout(r),s.spin(a),this.setProgress(0),this},startAfter:function(t){return clearTimeout(r),r=setTimeout(function(){l.start()},t),this},stop:function(){return l.isLoading()&&(n.disabled=!1,n.removeAttribute("data-loading")),clearTimeout(r),s&&(r=setTimeout(function(){s.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=n.querySelector(".ladda-progress");0===t&&e&&e.parentNode?e.parentNode.removeChild(e):(e||((e=document.createElement("div")).className="ladda-progress",n.appendChild(e)),e.style.width=(t||0)*n.offsetWidth+"px")},enable:function(){return this.stop()},disable:function(){return this.stop(),n.disabled=!0,this},isLoading:function(){return n.hasAttribute("data-loading")},remove:function(){clearTimeout(r),n.disabled=!1,n.removeAttribute("data-loading"),s&&(s.stop(),s=null),h.splice(h.indexOf(l),1)}};return h.push(l),l}console.warn("Ladda button target must be defined.")}function o(l,c){if("function"==typeof l.addEventListener){var h=t(l),u=-1;l.addEventListener("click",function(){var i,o,t=!0,e=function(t){for(;t.parentNode&&"FORM"!==t.tagName;)t=t.parentNode;return"FORM"===t.tagName?t:void 0}(l);if(void 0!==e&&!e.hasAttribute("novalidate"))if("function"==typeof e.checkValidity)t=e.checkValidity();else for(var n=(i=e,o=[],["input","textarea","select"].forEach(function(t){for(var e=i.getElementsByTagName(t),n=0;n<e.length;n++)e[n].hasAttribute("required")&&o.push(e[n])}),o),s=0;s<n.length;s++){var r=n[s],a=r.getAttribute("type");if(""===r.value.replace(/^\s+|\s+$/g,"")&&(t=!1),"checkbox"!==a&&"radio"!==a||r.checked||(t=!1),"email"===a&&(t=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i.test(r.value)),"url"===a&&(t=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(r.value)),!t)break}t&&(h.startAfter(1),"number"==typeof c.timeout&&(clearTimeout(u),u=setTimeout(h.stop,c.timeout)),"function"==typeof c.callback&&c.callback.apply(null,[h]))},!1)}}return{bind:function(t,e){var n;if("string"==typeof t)n=document.querySelectorAll(t);else{if("object"!=typeof t)throw new Error("target must be string or object");n=[t]}e=e||{};for(var i=0;i<n.length;i++)o(n[i],e)},create:t,stopAll:function(){for(var t=0,e=h.length;t<e;t++)h[t].stop()}}}),function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{e(t.jQuery),t.jquerySelectiveEs={}}}(this,function(t){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n){for(var i=this,t=arguments.length,o=Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];if("string"==typeof n){var s=function(){var e=n;if(/^_/.test(e))return{v:!1};if(!/^(get)/.test(e))return{v:i.each(function(){var t=r.default.data(this,p);t&&"function"==typeof t[e]&&t[e].apply(t,o)})};var t=i.first().data(p);return t&&"function"==typeof t[e]?{v:t[e].apply(t,o)}:void 0}();if("object"===(void 0===s?"undefined":a(s)))return s.v}return this.each(function(){(0,r.default)(this).data(p)||(0,r.default)(this).data(p,new d(this,n))})}var n,r=(n=t)&&n.__esModule?n:{default:n},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t},s={namespace:"selective",buildFromHtml:!0,closeOnSelect:!1,local:null,selected:null,withSearch:!1,searchType:null,ajax:{work:!1,url:null,quietMills:null,loadMore:!1,pageSize:null},query:function(){},tpl:{frame:function(){return'<div class="'+this.namespace+'"><div class="'+this.namespace+'-trigger">'+this.options.tpl.triggerButton.call(this)+'<div class="'+this.namespace+'-trigger-dropdown"><div class="'+this.namespace+'-list-wrap">'+this.options.tpl.list.call(this)+"</div></div></div>"+this.options.tpl.items.call(this)+"</div>"},search:function(){return'<input class="'+this.namespace+'-search" type="text" placeholder="Search...">'},select:function(){return'<select class="'+this.namespace+'-select" name="'+this.namespace+'" multiple="multiple"></select>'},optionValue:function(t){return"name"in t?t.name:t},option:function(t){return'<option value="'+this.options.tpl.optionValue.call(this)+'">'+t+"</option>"},items:function(){return'<ul class="'+this.namespace+'-items"></ul>'},item:function(t){return'<li class="'+this.namespace+'-item">'+t+this.options.tpl.itemRemove.call(this)+"</li>"},itemRemove:function(){return'<span class="'+this.namespace+'-remove">x</span>'},triggerButton:function(){return'<div class="'+this.namespace+'-trigger-button">Add</div>'},list:function(){return'<ul class="'+this.namespace+'-list"></ul>'},listItem:function(t){return'<li class="'+this.namespace+'-list-item">'+t+"</li>"}},onBeforeShow:null,onAfterShow:null,onBeforeHide:null,onAfterHide:null,onBeforeSearch:null,onAfterSearch:null,onBeforeSelected:null,onAfterSelected:null,onBeforeUnselect:null,onAfterUnselect:null,onBeforeItemRemove:null,onAfterItemRemove:null,onBeforeItemAdd:null,onAfterItemAdd:null},l=(i(b,[{key:"getOptions",value:function(){return this.instance.$options=this.instance.$select.find("option"),this.instance.$options}},{key:"select",value:function(t){return $(t).prop("selected",!0),this.instance}},{key:"unselect",value:function(t){return $(t).prop("selected",!1),this.instance}},{key:"add",value:function(t){if(!1===this.instance.options.buildFromHtml&&void 0===this.instance.getItem("option",this.instance.$select,this.instance.options.tpl.optionValue(t))){var e=$(this.instance.options.tpl.option.call(this.instance,t));return this.instance.setIndex(e,t),this.instance.$select.append(e),e}}},{key:"remove",value:function(t){return $(t).remove(),this.instance}}]),b),c=(i(y,[{key:"build",value:function(n){var o=this,s=$("<ul></ul>"),t=this.instance._options.getOptions();return!0===this.instance.options.buildFromHtml?0!==t.length&&$.each(t,function(t,e){var n=$(o.instance.options.tpl.listItem.call(o.instance,e.text)),i=$(e);o.instance.setIndex(n,i),void 0!==i.attr("selected")&&o.instance.select(n),s.append(n)}):null!==n&&($.each(n,function(t){var e=$(o.instance.options.tpl.listItem.call(o.instance,n[t]));o.instance.setIndex(e,n[t]),s.append(e)}),0!==t.length&&$.each(t,function(t,e){var n=$(e),i=o.instance.getItem("li",s,o.instance.options.tpl.optionValue(n.data("selective_index")));void 0!==i&&o.instance._list.select(i)})),this.instance.$list.append(s.children("li")),this.instance}},{key:"buildSearch",value:function(){return!0===this.instance.options.withSearch&&(this.instance.$triggerDropdown.prepend(this.instance.options.tpl.search.call(this.instance)),this.instance.$search=this.instance.$triggerDropdown.find("."+this.instance.namespace+"-search")),this.instance}},{key:"select",value:function(t){return this.instance._trigger("beforeSelected"),$(t).addClass(this.instance.namespace+"-selected"),this.instance._trigger("afterSelected"),this.instance}},{key:"unselect",value:function(t){return this.instance._trigger("beforeUnselected"),$(t).removeClass(this.instance.namespace+"-selected"),this.instance._trigger("afterUnselected"),this.instance}},{key:"click",value:function(){var e=this;this.instance.$list.on("click","li",function(){var t=$(this);t.hasClass(e.instance.namespace+"-selected")||e.instance.select(t)})}},{key:"filter",value:function(t){return $.expr[":"].Contains=function(t,e,n){return jQuery(t).text().toUpperCase().includes(n[3].toUpperCase())},t?(this.instance.$list.find("li:not(:Contains("+t+"))").slideUp(),this.instance.$list.find("li:Contains("+t+")").slideDown()):this.instance.$list.children("li").slideDown(),this.instance}},{key:"loadMore",value:function(){var t=this,e=this.instance.options.ajax.pageSize||9999;return this.instance.$listWrap.on("scroll.selective",function(){e>t.instance.page&&0==t.instance.$list.outerHeight(!0)-t.instance.$listWrap.outerHeight()-t.instance.$listWrap.scrollTop()&&t.instance.options.query(t.instance,t.instance.$search.val(),++t.instance.page)}),this.instance}},{key:"loadMoreRemove",value:function(){return this.instance.$listWrap.off("scroll.selective"),this.instance}}]),y),h=(i(v,[{key:"change",value:function(){var t=this;this.instance.$search.change(function(){t.instance._trigger("beforeSearch"),!0===t.instance.options.buildFromHtml?t.instance._list.filter(t.instance.$search.val()):""!==t.instance.$search.val()?(t.instance.page=1,t.instance.options.query(t.instance,t.instance.$search.val(),t.instance.page)):t.instance.update(t.instance.options.local),t.instance._trigger("afterSearch")})}},{key:"keyup",value:function(){var e=this,n=this.instance.options.ajax.quietMills||1e3,i="",o="",s=void 0;this.instance.$search.on("keyup",function(t){e.instance._trigger("beforeSearch"),o=e.instance.$search.val(),!0===e.instance.options.buildFromHtml?o!==i&&e.instance._list.filter(o):o===i&&13!==t.keyCode||(window.clearTimeout(s),s=window.setTimeout(function(){""!==o?(e.instance.page=1,e.instance.options.query(e.instance,o,e.instance.page)):e.instance.update(e.instance.options.local)},n)),i=o,e.instance._trigger("afterSearch")})}},{key:"bind",value:function(t){"change"===t?this.change():"keyup"===t&&this.keyup()}}]),v),u=(i(m,[{key:"withDefaults",value:function(e){var n=this;null!==e&&$.each(e,function(t){n.instance._options.add(e[t]),n.instance._options.select(n.instance.getItem("option",n.instance.$select,n.instance.options.tpl.optionValue(e[t]))),n.instance._items.add(e[t])})}},{key:"add",value:function(t,e){var n,i;i=!0===this.instance.options.buildFromHtml?e:t,n=$(this.instance.options.tpl.item.call(this.instance,i)),this.instance.setIndex(n,t),this.instance.$items.append(n)}},{key:"remove",value:function(t){t=$(t);var e=void 0,n=void 0;return!0===this.instance.options.buildFromHtml?(this.instance._list.unselect(t.data("selective_index")),this.instance._options.unselect(t.data("selective_index").data("selective_index"))):(void 0!==(e=this.instance.getItem("li",this.instance.$list,this.instance.options.tpl.optionValue(t.data("selective_index"))))&&this.instance._list.unselect(e),n=this.instance.getItem("option",this.instance.$select,this.instance.options.tpl.optionValue(t.data("selective_index"))),this.instance._options.unselect(n)._options.remove(n)),t.remove(),this.instance}},{key:"click",value:function(){var e=this;this.instance.$items.on("click","."+this.instance.namespace+"-remove",function(){var t=$(this).parents("li");e.instance.itemRemove(t)})}}]),m),d=(i(g,[{key:"init",value:function(){var t=this;this.$selective=this.$element.next("."+this.namespace),this.$items=this.$selective.find("."+this.namespace+"-items"),this.$trigger=this.$selective.find("."+this.namespace+"-trigger"),this.$triggerButton=this.$selective.find("."+this.namespace+"-trigger-button"),this.$triggerDropdown=this.$selective.find("."+this.namespace+"-trigger-dropdown"),this.$listWrap=this.$selective.find("."+this.namespace+"-list-wrap"),this.$list=this.$selective.find("."+this.namespace+"-list"),this._list=new c(this),this._options=new l(this),this._search=new h(this),this._items=new u(this),this._items.withDefaults(this.options.selected),this.update(this.options.local)._list.buildSearch(),this.$triggerButton.on("click",function(){!1===t.opened?t.show():t.hide()}),this._list.click(this),this._items.click(this),!0===this.options.withSearch&&this._search.bind(this.options.searchType),this._trigger("ready")}},{key:"_trigger",value:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=[this].concat(n);this.$element.trigger("selective::"+t,o);var s="on"+(t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}));"function"==typeof this.options[s]&&this.options[s].apply(this,n)}},{key:"_show",value:function(){var e=this;return(0,r.default)(document).on("click.selective",function(t){!0===e.options.closeOnSelect?0===(0,r.default)(t.target).closest(e.$triggerButton).length&&0===(0,r.default)(t.target).closest(e.$search).length&&e._hide():0===(0,r.default)(t.target).closest(e.$trigger).length&&e._hide()}),this.$trigger.addClass(this.namespace+"-active"),(this.opened=!0)===this.options.ajax.loadMore&&this._list.loadMore(),this}},{key:"_hide",value:function(){return(0,r.default)(document).off("click.selective"),this.$trigger.removeClass(this.namespace+"-active"),!(this.opened=!1)===this.options.ajax.loadMore&&this._list.loadMoreRemove(),this}},{key:"show",value:function(){return this._trigger("beforeShow"),this._show(),this._trigger("afterShow"),this}},{key:"hide",value:function(){return this._trigger("beforeHide"),this._hide(),this._trigger("afterHide"),this}},{key:"select",value:function(t){this._list.select(t);var e=t.data("selective_index");return!0===this.options.buildFromHtml?(this._options.select(e),this.itemAdd(t,e.text())):(this._options.add(e),this._options.select(this.getItem("option",this.$select,this.options.tpl.optionValue(e))),this.itemAdd(e)),this}},{key:"unselect",value:function(t){return this._list.unselect(t),this}},{key:"setIndex",value:function(t,e){return t.data("selective_index",e),this}},{key:"getItem",value:function(t,e,n){for(var i=e.children(t),o="",s=0;s<i.length;s++)this.options.tpl.optionValue(i.eq(s).data("selective_index"))===n&&(o=s);return""===o?void 0:i.eq(o)}},{key:"itemAdd",value:function(t,e){return this._trigger("beforeItemAdd"),this._items.add(t,e),this._trigger("afterItemAdd"),this}},{key:"itemRemove",value:function(t){return this._trigger("beforeItemRemove"),this._items.remove(t),this._trigger("afterItemRemove"),this}},{key:"optionAdd",value:function(t){return this._options.add(t),this}},{key:"optionRemove",value:function(t){return this._options.remove(t),this}},{key:"update",value:function(t){return this.$list.empty(),this.page=1,null!==t?this._list.build(t):this._list.build(),this}},{key:"destroy",value:function(){this.$selective.remove(),this.$element.show(),(0,r.default)(document).off("click.selective"),this._trigger("destroy")}}],[{key:"setDefaults",value:function(t){r.default.extend(!0,s,r.default.isPlainObject(t)&&t)}}]),g),p="selective",f=r.default.fn.selective;function g(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o(this,g),this.element=t,this.$element=(0,r.default)(t).hide()||(0,r.default)("<select></select>"),this.options=r.default.extend(!0,{},s,n),this.namespace=this.options.namespace;var i=(0,r.default)(this.options.tpl.frame.call(this));this.$select=!0===this.$element.is("select")?this.$element:(e.$element.html(e.options.tpl.select.call(e)),e.$element.children("select")),this.$element.after(i),this.init(),this.opened=!1}function m(t){o(this,m),this.instance=t}function v(t){o(this,v),this.instance=t}function y(t){o(this,y),this.instance=t}function b(t){o(this,b),this.instance=t}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}r.default.fn.selective=e,r.default.selective=r.default.extend({setDefaults:d.setDefaults,noConflict:function(){return r.default.fn.selective=f,e}},{version:"0.3.5"})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){function c(t){return parseFloat(t)||0}function h(t){var e=l(t),i=null,o=[];return e.each(function(){var t=l(this),e=t.offset().top-c(t.css("margin-top")),n=0<o.length?o[o.length-1]:null;null===n?o.push(t):Math.floor(Math.abs(i-e))<=1?o[o.length-1]=n.add(t):o.push(t),i=e}),o}function u(t){var e={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?l.extend(e,t):("boolean"==typeof t?e.byRow=t:"remove"===t&&(e.remove=!0),e)}var i=-1,o=-1,d=l.fn.matchHeight=function(t){var e=u(t);if(e.remove){var n=this;return this.css(e.property,""),l.each(d._groups,function(t,e){e.elements=e.elements.not(n)}),this}return this.length<=1&&!e.target||(d._groups.push({elements:this,options:e}),d._apply(this,e)),this};d.version="0.7.2",d._groups=[],d._throttle=80,d._maintainScroll=!1,d._beforeUpdate=null,d._afterUpdate=null,d._rows=h,d._parse=c,d._parseOptions=u,d._apply=function(t,e){var s=u(e),n=l(t),i=[n],o=l(window).scrollTop(),r=l("html").outerHeight(!0),a=n.parents().filter(":hidden");return a.each(function(){var t=l(this);t.data("style-cache",t.attr("style"))}),a.css("display","block"),s.byRow&&!s.target&&(n.each(function(){var t=l(this),e=t.css("display");"inline-block"!==e&&"flex"!==e&&"inline-flex"!==e&&(e="block"),t.data("style-cache",t.attr("style")),t.css({display:e,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),i=h(n),n.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||"")})),l.each(i,function(t,e){var n=l(e),o=0;if(s.target)o=s.target.outerHeight(!1);else{if(s.byRow&&n.length<=1)return void n.css(s.property,"");n.each(function(){var t=l(this),e=t.attr("style"),n=t.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var i={display:n};i[s.property]="",t.css(i),t.outerHeight(!1)>o&&(o=t.outerHeight(!1)),e?t.attr("style",e):t.css("display","")})}n.each(function(){var t=l(this),e=0;s.target&&t.is(s.target)||("border-box"!==t.css("box-sizing")&&(e+=c(t.css("border-top-width"))+c(t.css("border-bottom-width")),e+=c(t.css("padding-top"))+c(t.css("padding-bottom"))),t.css(s.property,o-e+"px"))})}),a.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||null)}),d._maintainScroll&&l(window).scrollTop(o/r*l("html").outerHeight(!0)),this},d._applyDataApi=function(){var n={};l("[data-match-height], [data-mh]").each(function(){var t=l(this),e=t.attr("data-mh")||t.attr("data-match-height");n[e]=e in n?n[e].add(t):t}),l.each(n,function(){this.matchHeight(!0)})};function s(t){d._beforeUpdate&&d._beforeUpdate(t,d._groups),l.each(d._groups,function(){d._apply(this.elements,this.options)}),d._afterUpdate&&d._afterUpdate(t,d._groups)}d._update=function(t,e){if(e&&"resize"===e.type){var n=l(window).width();if(n===i)return;i=n}t?-1===o&&(o=setTimeout(function(){s(e),o=-1},d._throttle)):s(e)},l(d._applyDataApi);var t=l.fn.on?"on":"bind";l(window)[t]("load",function(t){d._update(!1,t)}),l(window)[t]("resize orientationchange",function(t){d._update(!0,t)})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.Dropify=e(t.jQuery)}(this,function(a){function e(t,e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){this.element=t,this.input=a(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=a.extend(!0,{defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}},e,this.input.data()),this.errorsEvent=a.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}var n="dropify";return e.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},e.prototype.createElements=function(){this.isInit=!0,this.input.wrap(a(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var t=a(this.settings.tpl.message).insertBefore(this.input);a(this.settings.tpl.errorLine).appendTo(t),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=a(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=a(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=a(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=a(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=a(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var e=this.settings.defaultFile||"";""!==e.trim()&&(this.file.name=this.cleanFilename(e),this.setPreview(this.isImage(),e))},e.prototype.readFile=function(t){if(t.files&&t.files[0]){var e=new FileReader,n=new Image,i=t.files[0],o=null,s=this,r=a.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(i),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),e.readAsDataURL(i),e.onload=function(t){o=t.target.result,n.src=t.target.result,n.onload=function(){s.setFileDimensions(this.width,this.height),s.validateImage(),s.input.trigger(r,[!0,o])}}.bind(this)):this.onFileReady(!1)}},e.prototype.onFileReady=function(t,e,n){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(e,n);else{this.input.trigger(this.errorsEvent,[this]);for(var i=this.errorsEvent.errors.length-1;0<=i;i--){var o=this.errorsEvent.errors[i].namespace.split(".").pop();this.showError(o)}if(void 0!==this.errorsContainer){this.errorsContainer.addClass("visible");var s=this.errorsContainer;setTimeout(function(){s.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},e.prototype.setFileInformations=function(t){this.file.object=t,this.file.name=t.name,this.file.size=t.size,this.file.type=t.type,this.file.width=null,this.file.height=null},e.prototype.setFileDimensions=function(t,e){this.file.width=t,this.file.height=e},e.prototype.setPreview=function(t,e){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var n=this.preview.children(".dropify-render");if(this.hideLoader(),!0===t){var i=a("<img />").attr("src",e);this.settings.height&&i.css("max-height",this.settings.height),i.appendTo(n)}else a("<i />").attr("class","dropify-font-file").appendTo(n),a('<span class="dropify-extension" />').html(this.getFileType()).appendTo(n);this.preview.fadeIn()},e.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var t=this.preview.children(".dropify-render");t.find(".dropify-extension").remove(),t.find("i").remove(),t.find("img").remove(),this.preview.hide(),this.hideLoader()},e.prototype.cleanFilename=function(t){var e=t.split("\\").pop();return e==t&&(e=t.split("/").pop()),""!==t?e:""},e.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var t=a.Event("dropify.beforeClear");this.input.trigger(t,[this]),!1!==t.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(a.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},e.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},e.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},e.prototype.isTouchDevice=function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},e.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},e.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},e.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},e.prototype.translateMessages=function(){for(var t in this.settings.tpl)for(var e in this.settings.messages)this.settings.tpl[t]=this.settings.tpl[t].replace("{{ "+e+" }}",this.settings.messages[e])},e.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},e.prototype.sizeToByte=function(t){var e=0;if(0!==t){var n=t.slice(-1).toUpperCase();"K"===n?e=1024*parseFloat(t):"M"===n?e=1048576*parseFloat(t):"G"===n&&(e=1073741824*parseFloat(t))}return e},e.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},e.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},e.prototype.pushError=function(t){var e=a.Event("dropify.error."+t);this.errorsEvent.errors.push(e),this.input.trigger(e,[this])},e.prototype.clearErrors=function(){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").html("")},e.prototype.showError=function(t){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").append("<li>"+this.getError(t)+"</li>")},e.prototype.getError=function(t){var e=this.settings.error[t],n="";return"fileSize"===t?n=this.settings.maxFileSize:"minWidth"===t?n=this.settings.minWidth:"maxWidth"===t?n=this.settings.maxWidth:"minHeight"===t?n=this.settings.minHeight:"maxHeight"===t?n=this.settings.maxHeight:"imageFormat"===t?n=this.settings.allowedFormats.join(", "):"fileExtension"===t&&(n=this.settings.allowedFileExtensions.join(", ")),""!==n?e.replace("{{ value }}",n):e},e.prototype.showLoader=function(){void 0!==this.loader&&this.loader.show()},e.prototype.hideLoader=function(){void 0!==this.loader&&this.loader.hide()},e.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},e.prototype.init=function(){this.createElements()},e.prototype.isDropified=function(){return this.isInit},a.fn[n]=function(t){return this.each(function(){a.data(this,n)||a.data(this,n,new e(this,t))}),this},e}),function(g){function m(t){var e,n=t;return e=(n=n.clone().attr("class","hidden_element").appendTo("body")).width(!0),n.remove(),e}function v(t,e){t&&window.console&&window.console.log&&window.console.log("jQuery-LABELAUTY: "+e)}g.fn.labelauty=function(t){var f=g.extend({development:!1,class:"labelauty",icon:!0,label:!0,separator:"|",checked_label:"Checked",unchecked_label:"Unchecked",force_random_id:!1,minimum_width:!1,same_width:!0},t);return this.each(function(){var t,e,n,i,o=g(this),s=o.is(":checked"),r=o.attr("type"),a=!0,l=o.attr("aria-label");if(o.attr("aria-hidden",!0),!1===o.is(":checkbox")&&!1===o.is(":radio"))return this;if(o.addClass(f.class),e=o.attr("data-labelauty"),a=f.label,t=f.icon,!0===a&&(null==e||0===e.length?n=[f.unchecked_label,f.checked_label]:2<(n=e.split(f.separator)).length?(a=!1,v(f.development,"There's more than two labels. LABELAUTY will not use labels.")):1===n.length&&v(f.development,"There's just one label. LABELAUTY will use this one for both cases.")),o.css({display:"none"}),o.removeAttr("data-labelauty"),i=o.attr("id"),f.force_random_id||null==i||""===i.trim()){var c=1+Math.floor(1024e3*Math.random());for(i="labelauty-"+c;0!==g(i).length;)i="labelauty-"+ ++c,v(f.development,"Holy crap, between 1024 thousand numbers, one raised a conflict. Trying again.");o.attr("id",i)}var h=jQuery(function(t,e,n,i,o,s,r){var a,l,c,h="";null==o?l=c="":(l=o[0],c=null==o[1]?l:o[1]);h=null==e?"":'tabindex="0" role="'+i+'" aria-checked="'+n+'" aria-label="'+e+'"';a=1==s&&1==r?'<label for="'+t+'" '+h+'><span class="labelauty-unchecked-image"></span><span class="labelauty-unchecked">'+l+'</span><span class="labelauty-checked-image"></span><span class="labelauty-checked">'+c+"</span></label>":1==s?'<label for="'+t+'" '+h+'><span class="labelauty-unchecked">'+l+'</span><span class="labelauty-checked">'+c+"</span></label>":'<label for="'+t+'" '+h+'><span class="labelauty-unchecked-image"></span><span class="labelauty-checked-image"></span></label>';return a}(i,l,s,r,n,a,t));if(h.click(function(){o.is(":checked")?g(h).attr("aria-checked",!1):g(h).attr("aria-checked",!0)}),h.keypress(function(t){t.preventDefault(),32!==t.keyCode&&13!==t.keyCode||(o.is(":checked")?(o.prop("checked",!1),g(h).attr("aria-checked",!1)):(o.prop("checked",!0),g(h).attr("aria-checked",!0)))}),o.after(h),!1!==f.minimum_width&&o.next("label[for="+i+"]").css({"min-width":f.minimum_width}),0!=f.same_width&&1==f.label){var u=o.next("label[for="+i+"]"),d=m(u.find("span.labelauty-unchecked")),p=m(u.find("span.labelauty-checked"));p<d?u.find("span.labelauty-checked").width(d):u.find("span.labelauty-unchecked").width(p)}})}}(jQuery),function(c,k){"use strict";var t;t=function(g){function o(t,e){return this.$element=g(t),!e||"string"!==g.type(e.delay)&&"number"!==g.type(e.delay)||(e.delay={show:e.delay,hide:e.delay}),this.options=g.extend({},i,e),this._defaults=i,this._name=s,this._targetclick=!1,this.init(),p.push(this.$element),this}function t(t,e){return isNaN(t)?e||0:Number(t)}function h(t){return t.data("plugin_"+s)}function u(){for(var t=null,e=0;e<p.length;e++)(t=h(p[e]))&&t.hide(!0);a.trigger("hiddenAll."+v)}function d(t){var e={x:0,y:0};if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type){var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=n.pageX,e.y=n.pageY}else"mousedown"!==t.type&&"mouseup"!==t.type&&"click"!==t.type||(e.x=t.pageX,e.y=t.pageY);return e}var s="webuiPopover",m="webui-popover",v="webui.popover",i={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},y=m+"-rtl",p=[],r=g('<div class="webui-popover-backdrop"></div>'),e=0,f=!1,x=-2e3,a=g(k),n="ontouchstart"in k.documentElement&&/Mobi/.test(navigator.userAgent);o.prototype={init:function(){if(this.$element[0]instanceof k.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&(n?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,g.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,g.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,g.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,g.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=e,this.id=s+this._idSeed,this.options.container=g(this.options.container||k.body).first(),this.options.backdrop&&r.appendTo(this.options.container).hide(),e++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=g.extend({},this.options,{selector:""}))},destroy:function(){for(var t=-1,e=0;e<p.length;e++)if(p[e]===this.$element){t=e;break}p.splice(t,1),this.hide(),this.$element.data("plugin_"+s,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var n={};return this._options&&g.each(this._options,function(t,e){i[t]!==e&&(n[t]=e)}),n},hide:function(t,e){if((t||"sticky"!==this.getTrigger())&&this._opened){e&&(e.preventDefault(),e.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);var n=g.Event("hide."+v);if(this.$element.trigger(n,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var i=this;setTimeout(function(){i.$target.hide(),i.getCache()||i.$target.remove()},i.getHideDelay())}this.options.backdrop&&r.hide(),this._opened=!1,this.$element.trigger("hidden."+v,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var t=this,e=t.getAutoHide();e&&(t.autoHideHandler&&clearTimeout(t.autoHideHandler),t.autoHideHandler=setTimeout(function(){t.hide()},e))},delegate:function(t){var e=g(t).data("plugin_"+s);return e||(e=new o(t,this.getDelegateOptions()),g(t).data("plugin_"+s,e)),e},toggle:function(t){var e=this;t&&(t.preventDefault(),t.stopPropagation(),this.options.selector&&(e=this.delegate(t.currentTarget))),e[e.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){u()},hideOthers:function(){!function(t){for(var e=null,n=0;n<p.length;n++)(e=h(p[n]))&&e.id!==t.id&&e.hide(!0);a.trigger("hiddenAll."+v)}(this)},show:function(){if(!this._opened){var t=this.getTarget().removeClass().addClass(m).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||t.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content)return;t.show()}this.displayContent(),this.options.onShow&&this.options.onShow(t),this.bindBodyEvents(),this.options.backdrop&&r.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var t,e=this.getElementPosition(),n=this.getTarget().removeClass().addClass(m).addClass(this._customTargetClass),i=this.getContentElement(),o=n[0].offsetWidth,s=n[0].offsetHeight,r=g.Event("show."+v);if(this.canEmptyHide()){var a=i.children().html();if(null!==a&&0===a.trim().length)return}this.$element.trigger(r,[n]);var l=this.$element.data("width")||this.options.width;""===l&&(l=this._defaults.width),"auto"!==l&&n.width(l);var c=this.$element.data("height")||this.options.height;""===c&&(c=this._defaults.height),"auto"!==c&&i.height(c),this.options.style&&this.$target.addClass(m+"-"+this.options.style),"rtl"!==this.options.direction||i.hasClass(y)||i.addClass(y),this.options.arrow||n.find(".webui-arrow").remove(),n.detach().css({top:x,left:x,display:"block"}),this.getAnimation()&&n.addClass(this.getAnimation()),n.appendTo(this.options.container),t=this.getPlacement(e),this.$element.trigger("added."+v),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&i.css("height",i.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&i.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&i.css("maxWidth",this.options.maxWidth),o=n[0].offsetWidth,s=n[0].offsetHeight;var h=this.getTargetPositin(e,t,o,s);if(this.$target.css(h.position).addClass(t).addClass("in"),"iframe"===this.options.type){var u=n.find("iframe"),d=n.width(),p=u.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(d=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(p=this.options.iframeOptions.height),u.width(d).height(p)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var f=this.$target.find(".webui-arrow");f.removeAttr("style"),"left"===t||"right"===t?f.css({top:this.$target.height()/2}):"top"!==t&&"bottom"!==t||f.css({left:this.$target.width()/2}),h.arrowOffset&&(-1===h.arrowOffset.left||-1===h.arrowOffset.top?f.hide():f.css(h.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+v,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var t=s+this._idSeed;this.$target=g(this.options.template).attr("id",t),this._customTargetClass=this.$target.attr("class")!==m?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",t)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+m+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+m+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return t(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return t(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var t=this.$element.attr("data-cache");if(void 0!==t)switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var t=this.$element.attr("data-delay-show");return void 0!==t?t:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var t=this.$element.attr("data-delay-hide");return void 0!==t?t:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var t=this.getAnimation();return t?t+"-out":"out"},setTitle:function(t){var e=this.getTitleElement();t?("rtl"!==this.options.direction||e.hasClass(y)||e.addClass(y),e.html(t)):e.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var e=g("<iframe></iframe>").attr("src",this.getUrl()),n=this;return g.each(this._defaults.iframeOptions,function(t){void 0!==n.options.iframeOptions[t]&&e.attr(t,n.options.iframeOptions[t])}),e},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=g(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(t){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var t;if(t=g.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||t,!this.content){var e=this.$element.next();e&&e.hasClass(m+"-content")&&(this.content=e)}}return this.content},setContent:function(t){var e=this.getTarget(),n=this.getContentElement();"string"==typeof t?n.html(t):t instanceof g&&(n.html(""),this.options.cache?t.removeClass(m+"-content").appendTo(n):t.clone(!0,!0).removeClass(m+"-content").appendTo(n)),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var n=this;this.xhr||(this.xhr=g.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(t,e){n.options.async.before&&n.options.async.before(n,t,e)},success:function(t){n.bindBodyEvents(),e&&g.isFunction(e)?n.content=e.apply(n.$element[0],[t]):n.content=t,n.setContent(n.content),n.getContentElement().removeAttr("style"),n.displayContent(),n.options.async.success&&n.options.async.success(n,t)},complete:function(){n.xhr=null},error:function(t,e){n.options.async.error&&n.options.async.error(n,t,e)}}))},bindBodyEvents:function(){f||(this.options.dismissible&&"click"===this.getTrigger()?n?a.off("touchstart.webui-popover").on("touchstart.webui-popover",g.proxy(this.bodyTouchStartHandler,this)):(a.off("keyup.webui-popover").on("keyup.webui-popover",g.proxy(this.escapeHandler,this)),a.off("click.webui-popover").on("click.webui-popover",g.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&a.off("touchend.webui-popover").on("touchend.webui-popover",g.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(t){var e=this;t&&this.options.selector&&(e=this.delegate(t.currentTarget)),e._timeout&&clearTimeout(e._timeout),e._enterTimeout=setTimeout(function(){e.getTarget().is(":visible")||e.show()},this.getDelayShow())},mouseleaveHandler:function(){var t=this;clearTimeout(t._enterTimeout),t._timeout=setTimeout(function(){t.hide()},this.getHideDelay())},escapeHandler:function(t){27===t.keyCode&&this.hideAll()},bodyTouchStartHandler:function(t){var e=this,n=g(t.currentTarget);n.on("touchend",function(t){e.bodyClickHandler(t),n.off("touchend")}),n.on("touchmove",function(){n.off("touchend")})},bodyClickHandler:function(t){for(var e=f=!0,n=0;n<p.length;n++){var i=h(p[n]);if(i&&i._opened){var o=i.getTarget().offset(),s=o.left,r=o.top,a=o.left+i.getTarget().width(),l=o.top+i.getTarget().height(),c=d(t);if(c.x>=s&&c.x<=a&&c.y>=r&&c.y<=l){e=!1;break}}}e&&u()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",g.proxy(this.mouseenterHandler,this)).on("mouseleave",g.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",g.proxy(this.hide,this,!0))},getPlacement:function(t){var e,n=this.options.container,i=n.innerWidth(),o=n.innerHeight(),s=n.scrollTop(),r=n.scrollLeft(),a=Math.max(0,t.left-r),l=Math.max(0,t.top-s),c="horizontal"===(e="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement),h="vertical"===e;return"auto"===e||c||h?e=a<i/3?l<o/3?c?"right-bottom":"bottom-right":l<2*o/3?h?l<=o/2?"bottom-right":"top-right":"right":c?"right-top":"top-right":a<2*i/3?l<o/3?c?a<=i/2?"right-bottom":"left-bottom":"bottom":l<2*o/3?c?a<=i/2?"right":"left":l<=o/2?"bottom":"top":c?a<=i/2?"right-top":"left-top":"top":l<o/3?c?"left-bottom":"bottom-left":l<2*o/3?h?l<=o/2?"bottom-left":"top-left":"left":c?"left-top":"top-left":"auto-top"===e?e=a<i/3?"top-right":a<2*i/3?"top":"top-left":"auto-bottom"===e?e=a<i/3?"bottom-right":a<2*i/3?"bottom":"bottom-left":"auto-left"===e?e=l<o/3?"left-top":l<2*o/3?"left":"left-bottom":"auto-right"===e&&(e=l<o/3?"right-bottom":l<2*o/3?"right":"right-top"),e},getElementPosition:function(){var t=this.$element[0].getBoundingClientRect(),e=this.options.container,n=e.css("position");if(e.is(k.body)||"static"===n)return g.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height});if("fixed"!==n)return"relative"===n?{top:this.$element.offset().top-e.offset().top,left:this.$element.offset().left-e.offset().left,width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height}:void 0;var i=e[0].getBoundingClientRect();return{top:t.top-i.top+e.scrollTop(),left:t.left-i.left+e.scrollLeft(),width:t.width,height:t.height}},getTargetPositin:function(t,e,n,i){var o=t,s=this.options.container,r=this.$element.outerWidth(),a=this.$element.outerHeight(),l=k.documentElement.scrollTop+s.scrollTop(),c=k.documentElement.scrollLeft+s.scrollLeft(),h={},u=null,d=this.options.arrow?20:0,p=r<10+d?d:0,f=a<10+d?d:0,g=0,m=k.documentElement.clientHeight+l,v=k.documentElement.clientWidth+c,y=0<o.left+o.width/2-p,b=o.left+o.width/2+p<v,w=0<o.top+o.height/2-f,_=o.top+o.height/2+f<m;switch(e){case"bottom":h={top:o.top+o.height,left:o.left+o.width/2-n/2};break;case"top":h={top:o.top-i,left:o.left+o.width/2-n/2};break;case"left":h={top:o.top+o.height/2-i/2,left:o.left-n};break;case"right":h={top:o.top+o.height/2-i/2,left:o.left+o.width};break;case"top-right":h={top:o.top-i,left:y?o.left-p:10},u={left:y?Math.min(r,n)/2+p:x};break;case"top-left":g=b?p:-10,h={top:o.top-i,left:o.left-n+o.width+g},u={left:b?n-Math.min(r,n)/2-p:x};break;case"bottom-right":h={top:o.top+o.height,left:y?o.left-p:10},u={left:y?Math.min(r,n)/2+p:x};break;case"bottom-left":g=b?p:-10,h={top:o.top+o.height,left:o.left-n+o.width+g},u={left:b?n-Math.min(r,n)/2-p:x};break;case"right-top":g=_?f:-10,h={top:o.top-i+o.height+g,left:o.left+o.width},u={top:_?i-Math.min(a,i)/2-f:x};break;case"right-bottom":h={top:w?o.top-f:10,left:o.left+o.width},u={top:w?Math.min(a,i)/2+f:x};break;case"left-top":g=_?f:-10,h={top:o.top-i+o.height+g,left:o.left-n},u={top:_?i-Math.min(a,i)/2-f:x};break;case"left-bottom":h={top:w?o.top-f:10,left:o.left-n},u={top:w?Math.min(a,i)/2+f:x}}return h.top+=this.getOffsetTop(),h.left+=this.getOffsetLeft(),{position:h,arrowOffset:u}}},g.fn[s]=function(e,n){var i=[],t=this.each(function(){var t=g.data(this,"plugin_"+s);t?"destroy"===e?t.destroy():"string"==typeof e&&i.push(t[e]()):(e?"string"==typeof e?"destroy"!==e&&(n||(t=new o(this,null),i.push(t[e]()))):"object"==typeof e&&(t=new o(this,e)):t=new o(this,null),g.data(this,"plugin_"+s,t))});return i.length?i:t};var l={show:function(t,e){e?g(t).webuiPopover(e).webuiPopover("show"):g(t).webuiPopover("show")},hide:function(t){g(t).webuiPopover("hide")},create:function(t,e){e=e||{},g(t).webuiPopover(e)},isCreated:function(t){var n=!0;return g(t).each(function(t,e){n=n&&void 0!==g(e).data("plugin_"+s)}),n},hideAll:function(){u()},updateContent:function(t,e){var n=g(t).data("plugin_"+s);if(n){var i=n.getCache();n.options.cache=!1,n.options.content=e,n._opened?(n._opened=!1,n.show()):n.isAsync()?n.setContentASync(e):n.setContent(e),n.options.cache=i}},updateContentAsync:function(t,e){var n=g(t).data("plugin_"+s);if(n){var i=n.getCache(),o=n.options.type;n.options.cache=!1,n.options.url=e,n._opened?(n._opened=!1,n.show()):(n.options.type="async",n.setContentASync(n.content)),n.options.cache=i,n.options.type=o}},setDefaultOptions:function(t){i=g.extend({},i,t)}};c.WebuiPopovers=l},"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(c.jQuery)}(window,document);